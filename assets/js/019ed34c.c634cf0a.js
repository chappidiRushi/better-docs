"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[9732],{1219(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"css/css-interop-security","title":"Interop, Security & Spec Gaps","description":"-----------------","source":"@site/docs/css/Interop, Security & Spec Gaps.md","sourceDirName":"css","slug":"/css/css-interop-security","permalink":"/better-docs/docs/css/css-interop-security","draft":false,"unlisted":false,"editUrl":"https://github.com/chappidirushi/better-docs/tree/main/docs/css/Interop, Security & Spec Gaps.md","tags":[],"version":"current","sidebarPosition":28,"frontMatter":{"id":"css-interop-security","title":"Interop, Security & Spec Gaps","sidebar_position":28},"sidebar":"tutorialSidebar","previous":{"title":"Scoping, Shadow DOM & Encapsulation","permalink":"/better-docs/docs/css/css-shadow-dom"},"next":{"title":"Tooling & Debugging","permalink":"/better-docs/docs/css/css-tooling-debugging"}}');var r=i(4848),l=i(8453);const t={id:"css-interop-security",title:"Interop, Security & Spec Gaps",sidebar_position:28},c=void 0,o={},d=[{value:"Vendor Prefixes",id:"vendor-prefixes",level:2},{value:"Undefined &amp; Underspecified Behavior Zones",id:"undefined--underspecified-behavior-zones",level:2},{value:"Visited Link Privacy",id:"visited-link-privacy",level:2},{value:"Font Fingerprinting Limits",id:"font-fingerprinting-limits",level:2},{value:"Spec vs Implementation Gaps",id:"spec-vs-implementation-gaps",level:2},{value:"Interop Reality",id:"interop-reality",level:2},{value:"Notes",id:"notes",level:2},{value:"Caveats",id:"caveats",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"vendor-prefixes",children:"Vendor Prefixes"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Prefixes expose ",(0,r.jsx)(n.strong,{children:"experimental or legacy behavior"}),", not guarantees."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Common prefixes:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"-webkit-  /* Blink / WebKit */\n-moz-     /* Gecko */\n-ms-      /* Legacy Edge / IE */\n"})}),"\n",(0,r.jsx)(n.p,{children:"Rules:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prefixed properties may differ semantically"}),"\n",(0,r.jsx)(n.li,{children:"Unprefixed does NOT imply identical behavior"}),"\n",(0,r.jsx)(n.li,{children:"Prefixes can outlive specs"}),"\n"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"/* Legacy flexbox */\ndisplay: -webkit-box;\ndisplay: -ms-flexbox;\ndisplay: flex;\n\n/* WebKit-only text clipping */\n-webkit-background-clip: text;\n-webkit-text-fill-color: transparent;\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"undefined--underspecified-behavior-zones",children:"Undefined & Underspecified Behavior Zones"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Some CSS behavior is ",(0,r.jsx)(n.strong,{children:"deliberately undefined"})," to allow UA freedom."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Common zones:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Percentage resolution in cyclic dependencies"}),"\n",(0,r.jsx)(n.li,{children:"Min/max sizing conflicts"}),"\n",(0,r.jsx)(n.li,{children:"Scroll snapping edge cases"}),"\n",(0,r.jsx)(n.li,{children:"Font fallback timing"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Implications:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Different browsers may all be spec-compliant"}),"\n",(0,r.jsx)(n.li,{children:"Pixel-perfect parity is impossible"}),"\n"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".box {\n  width: min(50%, 400px); /* % basis may differ by layout context */\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"visited-link-privacy",children:"Visited Link Privacy"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["CSS is restricted to prevent ",(0,r.jsx)(n.strong,{children:"history sniffing"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Rules:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:":visited"})," styles are heavily limited"]}),"\n",(0,r.jsx)(n.li,{children:"Computed styles are sanitized"}),"\n",(0,r.jsx)(n.li,{children:"JS cannot read visited state"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Allowed properties:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"color\nbackground-color\nborder-color\noutline-color\n"})}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"a:visited {\n  color: purple; /* allowed */\n}\n\n/* Disallowed: layout-affecting */\na:visited {\n  font-size: 20px; /* ignored */\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"font-fingerprinting-limits",children:"Font Fingerprinting Limits"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Fonts are a ",(0,r.jsx)(n.strong,{children:"high-entropy fingerprinting vector"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Mitigations:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Restricted font enumeration"}),"\n",(0,r.jsx)(n.li,{children:"Async font loading"}),"\n",(0,r.jsx)(n.li,{children:"Permission-gated APIs"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"CSS effects:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"@font-face"})," load failures are opaque"]}),"\n",(0,r.jsx)(n.li,{children:"Fallback timing is UA-controlled"}),"\n"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@font-face {\n  font-family: 'PrivateFont';\n  src: url(font.woff2);\n}\n\n/* Cannot detect whether font exists */\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"spec-vs-implementation-gaps",children:"Spec vs Implementation Gaps"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Browsers ship ",(0,r.jsx)(n.strong,{children:"partial, delayed, or divergent implementations"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Sources of gaps:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Performance trade-offs"}),"\n",(0,r.jsx)(n.li,{children:"Security constraints"}),"\n",(0,r.jsx)(n.li,{children:"Platform differences"}),"\n",(0,r.jsx)(n.li,{children:"Backward compatibility"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Examples:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:":has()"})," performance differences"]}),"\n",(0,r.jsx)(n.li,{children:"Container query edge cases"}),"\n",(0,r.jsx)(n.li,{children:"Color space interpolation variance"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"interop-reality",children:"Interop Reality"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"CSS correctness \u2260 identical rendering."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Practices:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Test across engines (Blink, Gecko, WebKit)"}),"\n",(0,r.jsx)(n.li,{children:"Avoid relying on undefined behavior"}),"\n",(0,r.jsx)(n.li,{children:"Feature-detect, don\u2019t version-detect"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Prefixes signal instability"}),"\n",(0,r.jsx)(n.li,{children:"Undefined behavior is intentional"}),"\n",(0,r.jsx)(n.li,{children:"Security constraints override author intent"}),"\n",(0,r.jsx)(n.li,{children:"Specs describe ranges, not pixels"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"caveats",children:"Caveats"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Relying on UA quirks creates fragility"}),"\n",(0,r.jsx)(n.li,{children:"Security limits cannot be bypassed"}),"\n",(0,r.jsx)(n.li,{children:"Interop bugs may persist for years"}),"\n",(0,r.jsx)(n.li,{children:'"Works in Chrome" is meaningless'}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>t,x:()=>c});var s=i(6540);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);