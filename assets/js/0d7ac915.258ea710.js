"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[1601],{382(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>c,toc:()=>a});const c=JSON.parse('{"id":"Node/childprocess","title":"child_process Module","description":"Spawn and manage subprocesses, exec commands, IPC","source":"@site/docs/Node/childprocess.md","sourceDirName":"Node","slug":"/Node/childprocess","permalink":"/docs/Node/childprocess","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Node/childprocess.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"buffer Module","permalink":"/docs/Node/buffer"},"next":{"title":"cluster Module","permalink":"/docs/Node/cluster"}}');var l=s(4848),r=s(8453);const d={},i="child_process Module",o={},a=[{value:"Import (ESM)",id:"import-esm",level:2},{value:"spawn / spawnSync",id:"spawn--spawnsync",level:2},{value:"exec / execSync",id:"exec--execsync",level:2},{value:"execFile / execFileSync",id:"execfile--execfilesync",level:2},{value:"fork (Node-only)",id:"fork-node-only",level:2},{value:"ChildProcess Properties",id:"childprocess-properties",level:2},{value:"ChildProcess Methods",id:"childprocess-methods",level:2},{value:"ChildProcess Events",id:"childprocess-events",level:2},{value:"Notes",id:"notes",level:2}];function t(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsxs)(n.h1,{id:"child_process-module",children:[(0,l.jsx)(n.code,{children:"child_process"})," Module"]})}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:"Spawn and manage subprocesses, exec commands, IPC"}),"\n"]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"import-esm",children:"Import (ESM)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import {\n  spawn,\n  spawnSync,\n  exec,\n  execSync,\n  execFile,\n  execFileSync,\n  fork\n} from 'node:child_process';\n"})}),"\n",(0,l.jsxs)(s,{children:[(0,l.jsx)("summary",{children:"Examples"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"import { spawn, exec, fork } from 'node:child_process';\n"})})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"spawn--spawnsync",children:"spawn / spawnSync"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// Spawn a process with streaming stdio\nspawn(command, args?, options?)          // (string, string[]?, object?) \u2192 ChildProcess\n// Spawn synchronously (blocking)\nspawnSync(command, args?, options?)      // (string, string[]?, object?) \u2192 { pid, output, stdout, stderr, status }\n"})}),"\n",(0,l.jsxs)(s,{children:[(0,l.jsx)("summary",{children:"Examples"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"spawn('ls', ['-la'], {\n  cwd: '/tmp',            // working directory\n  env: process.env,       // env vars\n  stdio: 'pipe',          // stdio config\n  shell: false,           // run in shell\n  detached: false         // detach process\n});\n\nspawnSync('node', ['-v'], {\n  encoding: 'utf8',\n  timeout: 1000,\n  maxBuffer: 1024 * 1024\n});\n"})})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"exec--execsync",children:"exec / execSync"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// Execute command in a shell (buffered output)\nexec(command, options?, callback?)        // (string, object?, Function?) \u2192 ChildProcess\n// Execute command synchronously\nexecSync(command, options?)               // (string, object?) \u2192 Buffer|string\n"})}),"\n",(0,l.jsxs)(s,{children:[(0,l.jsx)("summary",{children:"Examples"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"exec('ls -la', {\n  cwd: '/tmp',\n  env: process.env,\n  encoding: 'utf8',\n  maxBuffer: 1024 * 1024,\n  timeout: 1000\n}, (err, stdout, stderr) => {});\n\nexecSync('node -v', {\n  encoding: 'utf8',\n  stdio: 'pipe'\n});\n"})})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"execfile--execfilesync",children:"execFile / execFileSync"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// Execute a file directly (no shell)\nexecFile(file, args?, options?, callback?) // (string, string[]?, object?, Function?) \u2192 ChildProcess\n// Execute file synchronously\nexecFileSync(file, args?, options?)        // (string, string[]?, object?) \u2192 Buffer|string\n"})}),"\n",(0,l.jsxs)(s,{children:[(0,l.jsx)("summary",{children:"Examples"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"execFile('node', ['-v'], {\n  cwd: process.cwd(),\n  env: process.env,\n  encoding: 'utf8'\n}, (err, stdout, stderr) => {});\n\nexecFileSync('node', ['-v'], {\n  encoding: 'utf8'\n});\n"})})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"fork-node-only",children:"fork (Node-only)"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"// Spawn a Node.js child with IPC\nfork(modulePath, args?, options?)          // (string, string[]?, object?) \u2192 ChildProcess\n"})}),"\n",(0,l.jsxs)(s,{children:[(0,l.jsx)("summary",{children:"Examples"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"fork('./worker.js', ['a', 'b'], {\n  cwd: process.cwd(),\n  env: process.env,\n  execArgv: ['--inspect'],\n  silent: false\n});\n"})})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"childprocess-properties",children:"ChildProcess Properties"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"child.pid                       // number \u2014 process id\nchild.stdin                     // Writable | null\nchild.stdout                    // Readable | null\nchild.stderr                    // Readable | null\nchild.connected                 // boolean \u2014 IPC connected\n"})}),"\n",(0,l.jsxs)(s,{children:[(0,l.jsx)("summary",{children:"Examples"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"const child = spawn('node', ['-v']);\nchild.pid;\nchild.stdout.on('data', d => {});\nchild.stderr.on('data', d => {});\nchild.connected;\n"})})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"childprocess-methods",children:"ChildProcess Methods"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"child.kill(signal?)             // (string?) \u2192 boolean\nchild.send(message, handle?, options?, callback?) // (...) \u2192 boolean\nchild.disconnect()              // () \u2192 void\n"})}),"\n",(0,l.jsxs)(s,{children:[(0,l.jsx)("summary",{children:"Examples"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"child.kill('SIGTERM');\nchild.send({ cmd: 'ping' }, null, {}, () => {});\nchild.disconnect();\n"})})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"childprocess-events",children:"ChildProcess Events"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"child.on('spawn', listener)     // () \u2192 void\nchild.on('exit', listener)      // (code, signal) \u2192 void\nchild.on('close', listener)     // (code, signal) \u2192 void\nchild.on('error', listener)     // (Error) \u2192 void\nchild.on('message', listener)  // (message, handle) \u2192 void\n"})}),"\n",(0,l.jsxs)(s,{children:[(0,l.jsx)("summary",{children:"Examples"}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-js",children:"child.on('spawn', () => {});\nchild.on('exit', (code, sig) => {});\nchild.on('close', (code, sig) => {});\nchild.on('error', err => {});\nchild.on('message', (msg, handle) => {});\n"})})]}),"\n",(0,l.jsx)(n.hr,{}),"\n",(0,l.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"spawn"})," = streaming (preferred)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"exec"})," = buffered + shell"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"execFile"})," = safer (no shell)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"fork"})," enables Node IPC"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(t,{...e})}):t(e)}},8453(e,n,s){s.d(n,{R:()=>d,x:()=>i});var c=s(6540);const l={},r=c.createContext(l);function d(e){const n=c.useContext(r);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),c.createElement(r.Provider,{value:n},e.children)}}}]);