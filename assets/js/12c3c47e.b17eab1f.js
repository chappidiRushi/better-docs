"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[7493],{7679(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Typescript/declaration-interop","title":"Declaration Files & Interop","description":"----------------","source":"@site/docs/Typescript/Declaration Files & Interop.md","sourceDirName":"Typescript","slug":"/Typescript/declaration-interop","permalink":"/docs/Typescript/declaration-interop","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Typescript/Declaration Files & Interop.md","tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"id":"declaration-interop","title":"Declaration Files & Interop","sidebar_position":13},"sidebar":"tutorialSidebar","previous":{"title":"Async, Promises & Errors","permalink":"/docs/Typescript/async-promise-errors"},"next":{"title":"Configuration & Project Structure","permalink":"/docs/Typescript/configuration-Project_structure"}}');var i=s(4848),t=s(8453);const a={id:"declaration-interop",title:"Declaration Files & Interop",sidebar_position:13},l=void 0,o={},c=[{value:".d.ts Files",id:"dts-files",level:2},{value:"Ambient Declarations",id:"ambient-declarations",level:2},{value:"Global vs Module Scope",id:"global-vs-module-scope",level:2},{value:"Third-Party Typings",id:"third-party-typings",level:2},{value:"DefinitelyTyped (@types)",id:"definitelytyped-types",level:2},{value:"JavaScript Interop (JSDoc)",id:"javascript-interop-jsdoc",level:2},{value:"Notes",id:"notes",level:2}];function d(e){const n={code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"dts-files",children:".d.ts Files"}),"\n",(0,i.jsx)(n.p,{children:"Provide type information for code without TypeScript sources."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// math.d.ts\nexport function sum(a: number, b: number): number;\nexport const version: string;\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// usage\nimport { sum } from './math';\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"ambient-declarations",children:"Ambient Declarations"}),"\n",(0,i.jsx)(n.p,{children:"Declare types for values that exist at runtime but are not imported."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// ambient variable\ndeclare const APP_VERSION: string;\n\n// ambient function\ndeclare function track(event: string): void;\n\ntrack('init');\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"global-vs-module-scope",children:"Global vs Module Scope"}),"\n",(0,i.jsx)(n.p,{children:"Controls whether declarations are available globally or only via imports."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// global scope\ndeclare global {\n  interface Window {\n    appName: string;\n  }\n}\n\n// module scope\nexport interface User {\n  id: number;\n}\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"third-party-typings",children:"Third-Party Typings"}),"\n",(0,i.jsx)(n.p,{children:"Adds type information for external JavaScript libraries."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// library provides its own types\nimport express from 'express';\n\nconst app = express();\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// custom typing fallback\ndeclare module 'legacy-lib' {\n  export function run(): void;\n}\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"definitelytyped-types",children:"DefinitelyTyped (@types)"}),"\n",(0,i.jsx)(n.p,{children:"Community-maintained type definitions for JavaScript libraries."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm install --save-dev @types/lodash\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import _ from 'lodash';\n\n_.chunk([1, 2, 3, 4], 2);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"javascript-interop-jsdoc",children:"JavaScript Interop (JSDoc)"}),"\n",(0,i.jsx)(n.p,{children:"Uses JSDoc comments to type-check JavaScript files."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// @ts-check\n\n/**\n * @param {number} a\n * @param {number} b\n * @returns {number}\n */\nfunction add(a, b) {\n  return a + b;\n}\n"})}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"/** @type {{ id: number; name: string }} */\nconst user = { id: 1, name: 'Dev' };\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:".d.ts"})," files contain only types, no runtime code"]}),"\n",(0,i.jsx)(n.li,{children:"Ambient declarations describe existing globals"}),"\n",(0,i.jsx)(n.li,{children:"Global scope affects all files in the project"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@types/*"})," packages are used when libraries lack types"]}),"\n",(0,i.jsx)(n.li,{children:"JSDoc enables gradual typing of JavaScript"}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>a,x:()=>l});var r=s(6540);const i={},t=r.createContext(i);function a(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);