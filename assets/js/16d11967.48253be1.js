"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[3764],{7875(e,s,n){n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"css/css-cascade-specificity-layers","title":"Cascade, Specificity & Layers","description":"----------------","source":"@site/docs/css/Cascade, Specificity & Layers.md","sourceDirName":"css","slug":"/css/css-cascade-specificity-layers","permalink":"/better-docs/docs/css/css-cascade-specificity-layers","draft":false,"unlisted":false,"editUrl":"https://github.com/chappidirushi/better-docs/tree/main/docs/css/Cascade, Specificity & Layers.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"css-cascade-specificity-layers","title":"Cascade, Specificity & Layers","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Selectors","permalink":"/better-docs/docs/css/css-selectors-deep-dive"},"next":{"title":"Formatting Contexts","permalink":"/better-docs/docs/css/css-formatting-contexts"}}');var r=n(4848),t=n(8453);const c={id:"css-cascade-specificity-layers",title:"Cascade, Specificity & Layers",sidebar_position:6},a=void 0,l={},o=[{value:"Cascade Origins",id:"cascade-origins",level:2},{value:"Importance Rules",id:"importance-rules",level:2},{value:"Specificity Resolution",id:"specificity-resolution",level:2},{value:"Specificity Edge Cases",id:"specificity-edge-cases",level:2},{value:"Inline Styles",id:"inline-styles",level:2},{value:"Source Order",id:"source-order",level:2},{value:"@layer Ordering",id:"layer-ordering",level:2},{value:"Layered Resets &amp; Design Systems",id:"layered-resets--design-systems",level:2},{value:"Cascade Resolution Algorithm",id:"cascade-resolution-algorithm",level:2},{value:"Notes",id:"notes",level:2},{value:"Caveats",id:"caveats",level:2}];function d(e){const s={blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{Details:n}=s;return n||function(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.h2,{id:"cascade-origins",children:"Cascade Origins"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Source categories that define where a declaration comes from and its base priority. Origins form the first major axis of the cascade and establish default trust levels between browser, user, and author styles."}),"\n"]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-css",children:"/* Origin priority (low \u2192 high):\n   1. User agent (browser defaults)\n   2. User styles\n   3. Author styles\n*/\n\n/* User agent */\nbutton { display: inline-block; }\n\n/* Author stylesheet */\nbutton { display: flex; }\n\n/* User stylesheet (e.g. accessibility) */\nbutton { display: block; }\n"})})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"importance-rules",children:"Importance Rules"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"!important"})," alters normal cascade order within and across origins. Importance creates a parallel cascade path that inverts parts of the origin hierarchy to allow explicit overrides."]}),"\n"]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-css",children:"/* Normal author rule */\n.btn { color: blue; }\n\n/* Important author rule */\n.btn { color: red !important; }\n\n/* Important order (low \u2192 high):\n   UA !important\n   User !important\n   Author !important\n*/\n\n/* User important overrides author important */\n"})})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"specificity-resolution",children:"Specificity Resolution"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Numeric comparison used when declarations share origin and importance. Specificity is calculated per selector and compared lexicographically, not summed across selector lists."}),"\n"]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-css",children:"/* (a, b, c) = (IDs, classes/attrs/pseudo-classes, types) */\n\n#app {}              /* (1,0,0) */\n.card {}             /* (0,1,0) */\nsection {}           /* (0,0,1) */\n\n#app .card {}        /* (1,1,0) */\nsection.card {}      /* (0,1,1) */\n\n/* Inline styles */\n/* specificity higher than any selector */\n"})})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"specificity-edge-cases",children:"Specificity Edge Cases"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Non-obvious specificity behavior defined by the Selectors spec. Functional pseudo-classes may contribute zero, maximum, or argument-derived specificity depending on their definition."}),"\n"]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-css",children:"/* :where() contributes zero */\n:where(#id .x) {}        /* (0,0,0) */\n\n/* :is() takes max argument */\n:is(#id, .x) {}          /* (1,0,0) */\n\n/* :not() uses argument specificity */\n:not(.active) {}         /* (0,1,0) */\n\n/* Universal selector */\n* {}                     /* (0,0,0) */\n"})})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"inline-styles",children:"Inline Styles"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsxs)(s.p,{children:["Declarations applied directly on elements via the ",(0,r.jsx)(s.code,{children:"style"})," attribute. Inline styles participate in the cascade as author origin with effectively highest specificity but still obey importance rules."]}),"\n"]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-html",children:'<div style="color: red; padding: 10px"></div>\n'})}),(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-css",children:"/* Inline styles:\n   - Override all author styles\n   - Can be overridden only by !important user rules\n*/\n"})})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"source-order",children:"Source Order"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Tie-breaker when all other cascade factors are equal. Source order is evaluated after origin, importance, layers, and specificity have been resolved."}),"\n"]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-css",children:'.box { color: red; }\n.box { color: blue; } /* wins (later in source) */\n\n@import "a.css";\n@import "b.css";     /* b.css loaded later */\n'})})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"layer-ordering",children:"@layer Ordering"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Explicit cascade grouping that sits above specificity and source order. Layers introduce an author-controlled ordering mechanism that precedes selector comparison."}),"\n"]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-css",children:"@layer reset, base, components, utilities;\n\n@layer reset {\n  button { all: unset; }\n}\n\n@layer components {\n  button { padding: 8px; }\n}\n\n@layer utilities {\n  .p-4 { padding: 1rem; }\n}\n\n/* Later layers override earlier layers */\n"})})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"layered-resets--design-systems",children:"Layered Resets & Design Systems"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Using layers to control large-scale style precedence predictably. Enables scalable architectures where resets, base styles, components, and utilities coexist without specificity escalation."}),"\n"]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-css",children:"@layer reset {\n  * { box-sizing: border-box; }\n}\n\n@layer base {\n  body { font-family: system-ui; }\n}\n\n@layer components {\n  .card { padding: 1rem; }\n}\n\n@layer utilities {\n  .mt-4 { margin-top: 1rem; }\n}\n\n/* Utilities always win without !important */\n"})})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"cascade-resolution-algorithm",children:"Cascade Resolution Algorithm"}),"\n",(0,r.jsxs)(s.blockquote,{children:["\n",(0,r.jsx)(s.p,{children:"Full decision pipeline used by the browser to pick a winning declaration. The algorithm is stable, deterministic, and evaluated independently for each property on each element."}),"\n"]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-text",children:"1. Filter by matching selectors\n2. Sort by origin\n3. Sort by importance\n4. Sort by layer order\n5. Compare specificity\n6. Apply source order\n"})})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Cascade happens ",(0,r.jsx)(s.strong,{children:"after selector matching"})]}),"\n",(0,r.jsx)(s.li,{children:"Layers override specificity, not the opposite"}),"\n",(0,r.jsx)(s.li,{children:"Inline styles bypass selector specificity"}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"!important"})," changes origin ordering"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"caveats",children:"Caveats"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Overusing ",(0,r.jsx)(s.code,{children:"!important"})," breaks layer design"]}),"\n",(0,r.jsx)(s.li,{children:"Imported styles inherit the layer they are imported into"}),"\n",(0,r.jsx)(s.li,{children:"Shadow DOM has its own cascade scope"}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,s,n){n.d(s,{R:()=>c,x:()=>a});var i=n(6540);const r={},t=i.createContext(r);function c(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);