"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[4185],{1674(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"Angular/rxjs-standalone","title":"RxJS Cheatsheet","description":"RxJS is Angular\'s reactive programming library for handling async streams such as HTTP, events, forms, routing, and WebSockets.","source":"@site/docs/Angular/rxjs-standalone.md","sourceDirName":"Angular","slug":"/Angular/rxjs-standalone","permalink":"/better-docs/docs/Angular/rxjs-standalone","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Angular/rxjs-standalone.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Routing","permalink":"/better-docs/docs/Angular/routing"},"next":{"title":"Angular 19+ \u2014 Services Cheatsheet","permalink":"/better-docs/docs/Angular/service"}}');var i=s(4848),l=s(8453);const t={},a="RxJS Cheatsheet",c={},o=[{value:"Overview",id:"overview",level:2},{value:"Creating Observables",id:"creating-observables",level:2},{value:"Subscribing &amp; Unsubscribing",id:"subscribing--unsubscribing",level:2},{value:"Auto\u2011unsubscribe in Angular (signal destroyRef)",id:"autounsubscribe-in-angular-signal-destroyref",level:2},{value:"Common Pipeable Operators",id:"common-pipeable-operators",level:2},{value:"Transformation",id:"transformation",level:3},{value:"Filtering",id:"filtering",level:3},{value:"Combination",id:"combination",level:3},{value:"Flattening (Higher\u2011Order Mapping)",id:"flattening-higherorder-mapping",level:3},{value:"Error Handling",id:"error-handling",level:2},{value:"Subjects &amp; Multicasting",id:"subjects--multicasting",level:2},{value:"Subject Types",id:"subject-types",level:3},{value:"HttpClient + RxJS",id:"httpclient--rxjs",level:2},{value:"Router Events as Observables",id:"router-events-as-observables",level:2},{value:"Converting Between Promises &amp; Observables",id:"converting-between-promises--observables",level:2},{value:"Scheduling &amp; Performance",id:"scheduling--performance",level:2},{value:"Memory &amp; Cleanup Strategy",id:"memory--cleanup-strategy",level:2},{value:"Debugging Tips",id:"debugging-tips",level:2},{value:"When to Use What",id:"when-to-use-what",level:2},{value:"\ud83d\ude80 Cool Things You Can Do with RxJS",id:"-cool-things-you-can-do-with-rxjs",level:2},{value:"\ud83d\udd0d Debounced Live Search (avoid hammering the server)",id:"-debounced-live-search-avoid-hammering-the-server",level:3},{value:"\u26a1 Retry API Calls with Exponential Backoff",id:"-retry-api-calls-with-exponential-backoff",level:3},{value:"\ud83e\udde0 Smart Caching \u2014 Share Latest Value Across Subscribers",id:"-smart-caching--share-latest-value-across-subscribers",level:3},{value:"\ud83e\uddf5 Combine Multiple Streams (UI + API + Auth)",id:"-combine-multiple-streams-ui--api--auth",level:3},{value:"\u23f1\ufe0f Auto\u2011Save Form Values with Throttle + Distinct",id:"\ufe0f-autosave-form-values-with-throttle--distinct",level:3},{value:"\ud83d\udef0\ufe0f WebSocket Streams as Observables",id:"\ufe0f-websocket-streams-as-observables",level:3},{value:"\ud83d\udd01 Polling APIs the Right Way",id:"-polling-apis-the-right-way",level:3},{value:"\ud83c\udf9a\ufe0f Build Reactive ViewModels (no manual state syncing)",id:"\ufe0f-build-reactive-viewmodels-no-manual-state-syncing",level:3},{value:"\ud83c\udfaf Cancel In\u2011Flight HTTP Requests",id:"-cancel-inflight-http-requests",level:3},{value:"\ud83e\uddea Test Streams Like a Pro (Marble Testing)",id:"-test-streams-like-a-pro-marble-testing",level:3},{value:"\ud83e\udd77 Pro\u2011Level Patterns",id:"-prolevel-patterns",level:2},{value:"\u2705 Best Practices Refresher",id:"-best-practices-refresher",level:2},{value:"\u2705 Option\xa01 \u2014 Pure TypeScript RxJS Library (No Angular Runtime Needed)",id:"-option1--pure-typescript-rxjs-library-no-angular-runtime-needed",level:2},{value:"1\ufe0f\u20e3 Create a project",id:"1\ufe0f\u20e3-create-a-project",level:3},{value:"2\ufe0f\u20e3 Add <code>tsconfig.json</code>",id:"2\ufe0f\u20e3-add-tsconfigjson",level:3},{value:"3\ufe0f\u20e3 Add your RxJS utilities",id:"3\ufe0f\u20e3-add-your-rxjs-utilities",level:3},{value:"4\ufe0f\u20e3 Build",id:"4\ufe0f\u20e3-build",level:3},{value:"\u2705 Option\xa02 \u2014 Angular\xa0CLI Library (ships typings + ng tooling)",id:"-option2--angularcli-library-ships-typings--ng-tooling",level:2},{value:"1\ufe0f\u20e3 Create a workspace without an app",id:"1\ufe0f\u20e3-create-a-workspace-without-an-app",level:3},{value:"2\ufe0f\u20e3 Generate a library",id:"2\ufe0f\u20e3-generate-a-library",level:3},{value:"3\ufe0f\u20e3 Add RxJS helpers",id:"3\ufe0f\u20e3-add-rxjs-helpers",level:3},{value:"4\ufe0f\u20e3 Build the library",id:"4\ufe0f\u20e3-build-the-library",level:3},{value:"\ud83e\uddea Testing (Marble Style)",id:"-testing-marble-style",level:2},{value:"\ud83d\udee0\ufe0f Suggested Utilities to Ship",id:"\ufe0f-suggested-utilities-to-ship",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"rxjs-cheatsheet",children:"RxJS Cheatsheet"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"RxJS"})," is Angular's reactive programming library for handling async streams such as HTTP, events, forms, routing, and WebSockets."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Observable"})," \u2192 stream of async values"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Observer"})," \u2192 consumes values"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subscription"})," \u2192 manages lifecycle"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Operators"})," \u2192 transform streams"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Subjects"})," \u2192 multicast streams"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Angular uses RxJS in:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"HttpClient"}),"\n",(0,i.jsx)(n.li,{children:"Router events"}),"\n",(0,i.jsx)(n.li,{children:"Forms"}),"\n",(0,i.jsx)(n.li,{children:"Component lifecycles"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"creating-observables",children:"Creating Observables"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { of, from, interval, timer, Observable } from 'rxjs';\n\nconst a$ = of(1, 2, 3);                     // emits values then completes\nconst b$ = from([10, 20, 30]);              // convert iterable/promise\nconst c$ = interval(1000);                  // emits 0,1,2,... every second\nconst d$ = timer(3000);                     // emits once after 3s\n\nconst e$ = new Observable(observer => {\n  observer.next('hi');\n  observer.complete();\n});\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"subscribing--unsubscribing",children:"Subscribing & Unsubscribing"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const sub = interval(1000).subscribe({\n  next: v => console.log(v),\n  error: err => console.error(err),\n  complete: () => console.log('done')\n});\n\nsub.unsubscribe(); // stop\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"autounsubscribe-in-angular-signal-destroyref",children:"Auto\u2011unsubscribe in Angular (signal destroyRef)"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Component, effect, inject, signalDestroyRef } from '@angular/core';\nimport { interval, takeUntilDestroyed } from '@angular/core/rxjs-interop';\n\n@Component({ standalone: true, template: '' })\nexport class Demo {\n  destroyRef = signalDestroyRef();\n\n  ngOnInit() {\n    interval(1000)\n      .pipe(takeUntilDestroyed(this.destroyRef))\n      .subscribe(v => console.log(v));\n  }\n}\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"common-pipeable-operators",children:"Common Pipeable Operators"}),"\n",(0,i.jsx)(n.h3,{id:"transformation",children:"Transformation"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { map, scan, pluck } from 'rxjs';\n\nsource$.pipe(\n  map(v => v * 2),                      // transform value\n  scan((acc, v) => acc + v, 0)         // running total\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"filtering",children:"Filtering"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { filter, take, takeUntil, debounceTime, distinctUntilChanged } from 'rxjs';\n\nsource$.pipe(\n  filter(v => v > 10),\n  take(3),                             // complete after 3\n  debounceTime(300),                   // wait for pause\n  distinctUntilChanged()               // ignore same value\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"combination",children:"Combination"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { combineLatest, withLatestFrom, merge, concat, forkJoin } from 'rxjs';\n\ncombineLatest([a$, b$]);               // latest values from both\nwithLatestFrom(b$);                     // source + last from b\nmerge(a$, b$);                          // interleave\nconcat(a$, b$);                         // sequential\nforkJoin([a$, b$]);                     // wait all complete \u2192 array\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"flattening-higherorder-mapping",children:"Flattening (Higher\u2011Order Mapping)"}),"\n",(0,i.jsx)(n.p,{children:"Pick based on behavior:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Operator"}),(0,i.jsx)(n.th,{children:"Behavior"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"switchMap"})}),(0,i.jsx)(n.td,{children:"cancel previous, keep latest"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"mergeMap"})}),(0,i.jsx)(n.td,{children:"run all concurrently"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"concatMap"})}),(0,i.jsx)(n.td,{children:"queue sequentially"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"exhaustMap"})}),(0,i.jsx)(n.td,{children:"ignore new until current completes"})]})]})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { switchMap, mergeMap, concatMap, exhaustMap } from 'rxjs';\n\nclicks$.pipe(\n  switchMap(() => http.get('/api'))\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"error-handling",children:"Error Handling"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { catchError, retry, retryWhen, delay } from 'rxjs';\n\nhttp.get('/api').pipe(\n  retry(2),                             // retry twice\n  catchError(err => of([]))             // fallback value\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"subjects--multicasting",children:"Subjects & Multicasting"}),"\n",(0,i.jsx)(n.h3,{id:"subject-types",children:"Subject Types"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Subject"})," \u2192 multicast stream"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"BehaviorSubject"})," \u2192 stores last value"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ReplaySubject"})," \u2192 replays N values"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"AsyncSubject"})," \u2192 emits last on complete"]}),"\n"]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Subject, BehaviorSubject } from 'rxjs';\n\nconst s$ = new Subject<number>();\nconst b$ = new BehaviorSubject(0);      // must init value\n\ns$.next(1);\nb$.value;                               // last value\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"httpclient--rxjs",children:"HttpClient + RxJS"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"http.get<User[]>('/api/users').pipe(\n  map(users => users.filter(u => u.active)),\n  catchError(() => of([]))\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"router-events-as-observables",children:"Router Events as Observables"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Router, NavigationEnd } from '@angular/router';\nimport { filter } from 'rxjs';\n\nrouter.events.pipe(\n  filter(e => e instanceof NavigationEnd)\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"converting-between-promises--observables",children:"Converting Between Promises & Observables"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { firstValueFrom, lastValueFrom, from } from 'rxjs';\n\nconst obs$ = from(fetch('/api')); // promise \u2192 observable\n\nawait firstValueFrom(obs$);       // observable \u2192 promise\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"scheduling--performance",children:"Scheduling & Performance"}),"\n",(0,i.jsxs)(n.p,{children:["Schedulers control ",(0,i.jsx)(n.strong,{children:"when"})," work runs:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"asyncScheduler"})," \u2192 async tasks"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"queueScheduler"})," \u2192 sync ordered"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"animationFrameScheduler"})," \u2192 UI\u2011safe timing"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"memory--cleanup-strategy",children:"Memory & Cleanup Strategy"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Prefer ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"takeUntilDestroyed()"})})," in components"]}),"\n",(0,i.jsxs)(n.li,{children:["Avoid manual ",(0,i.jsx)(n.code,{children:"unsubscribe()"})," everywhere"]}),"\n",(0,i.jsx)(n.li,{children:"Never subscribe inside subscribe"}),"\n",(0,i.jsx)(n.li,{children:"Use flattening operators instead"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"debugging-tips",children:"Debugging Tips"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:".pipe(tap(console.log))"})]}),"\n",(0,i.jsx)(n.li,{children:"Check uncompleted subscriptions"}),"\n",(0,i.jsx)(n.li,{children:"Use DevTools RxJS debugging extensions"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"when-to-use-what",children:"When to Use What"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"switchMap"})," \u2192 user typing / route changes"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"mergeMap"})," \u2192 parallel API calls"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"concatMap"})," \u2192 ordered requests"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"exhaustMap"})," \u2192 login buttons"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["This cheatsheet covers ",(0,i.jsx)(n.strong,{children:"RxJS usage in Angular 21+, operators, subjects, cleanup strategies, and best practices"})," \u2014 all with collapsible examples to fit your Docusaurus\u2011friendly format."]}),"\n",(0,i.jsx)(n.h2,{id:"-cool-things-you-can-do-with-rxjs",children:"\ud83d\ude80 Cool Things You Can Do with RxJS"}),"\n",(0,i.jsxs)(n.p,{children:["Here are some ",(0,i.jsx)(n.strong,{children:"powerful and fun real\u2011world patterns"})," you can easily implement using RxJS in Angular 21."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"-debounced-live-search-avoid-hammering-the-server",children:"\ud83d\udd0d Debounced Live Search (avoid hammering the server)"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"search$ = new Subject<string>();\n\nresults$ = this.search$.pipe(\n  debounceTime(300),\n  distinctUntilChanged(),\n  switchMap(term => this.http.get(`/api?q=${term}`))\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"-retry-api-calls-with-exponential-backoff",children:"\u26a1 Retry API Calls with Exponential Backoff"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"httpCall$ = this.http.get('/api').pipe(\n  retryWhen(errors =>\n    errors.pipe(\n      scan((count) => count + 1, 0),\n      tap(count => {\n        if (count === 5) throw errors;\n      }),\n      delayWhen(count => timer(count * 1000))\n    )\n  )\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"-smart-caching--share-latest-value-across-subscribers",children:"\ud83e\udde0 Smart Caching \u2014 Share Latest Value Across Subscribers"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"users$ = this.http.get('/users').pipe(\n  shareReplay({ bufferSize: 1, refCount: true })\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"-combine-multiple-streams-ui--api--auth",children:"\ud83e\uddf5 Combine Multiple Streams (UI + API + Auth)"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"vm$ = combineLatest([\n  this.user$,\n  this.settings$,\n  this.authService.isLoggedIn$\n]).pipe(\n  map(([user, settings, loggedIn]) => ({ user, settings, loggedIn }))\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"\ufe0f-autosave-form-values-with-throttle--distinct",children:"\u23f1\ufe0f Auto\u2011Save Form Values with Throttle + Distinct"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"this.form.valueChanges.pipe(\n  throttleTime(1000),\n  distinctUntilChanged(),\n  switchMap(v => this.save(v))\n).subscribe();\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"\ufe0f-websocket-streams-as-observables",children:"\ud83d\udef0\ufe0f WebSocket Streams as Observables"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const socket$ = webSocket('wss://example.com');\n\nsocket$.subscribe(msg => console.log(msg));\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"-polling-apis-the-right-way",children:"\ud83d\udd01 Polling APIs the Right Way"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"poll$ = timer(0, 5000).pipe(\n  switchMap(() => this.http.get('/status'))\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"\ufe0f-build-reactive-viewmodels-no-manual-state-syncing",children:"\ud83c\udf9a\ufe0f Build Reactive ViewModels (no manual state syncing)"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"vm$ = combineLatest([\n  this.route.paramMap.pipe(map(p => p.get('id'))),\n  this.cartService.items$\n]).pipe(\n  switchMap(([id, cart]) =>\n    this.productService.getProduct(id).pipe(\n      map(product => ({ product, cart }))\n    )\n  )\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"-cancel-inflight-http-requests",children:"\ud83c\udfaf Cancel In\u2011Flight HTTP Requests"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Example"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"this.search.valueChanges.pipe(\n  switchMap(term => this.http.get(`/api?q=${term}`))\n);\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"-test-streams-like-a-pro-marble-testing",children:"\ud83e\uddea Test Streams Like a Pro (Marble Testing)"}),"\n",(0,i.jsx)(n.p,{children:"You can write tests that express time visually using marble strings \u2014 super readable and deterministic."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-prolevel-patterns",children:"\ud83e\udd77 Pro\u2011Level Patterns"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Facade pattern with vm$"})," \u2014 keep components dumb and UI\u2011focused"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Global store with RxJS (without NgRx)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Event buses using Subjects"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Reactive forms + operators"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Backpressure strategies (debounce, throttle, audit)"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsxs)(n.strong,{children:["Side\u2011effect isolation using ",(0,i.jsx)(n.code,{children:"tap"})]})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsxs)(n.strong,{children:["Memory\u2011safe streams with ",(0,i.jsx)(n.code,{children:"takeUntil"})]})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-best-practices-refresher",children:"\u2705 Best Practices Refresher"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Prefer ",(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"switchMap"})," for search\u2011like actions"]})]}),"\n",(0,i.jsxs)(n.li,{children:["Prefer ",(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"mergeMap"})," for parallel work"]})]}),"\n",(0,i.jsxs)(n.li,{children:["Prefer ",(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"concatMap"})," for ordered work"]})]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"exhaustMap"})," for login buttons"]})," (ignore spam clicks)"]}),"\n",(0,i.jsx)(n.li,{children:"Always clean up long\u2011lived streams"}),"\n",(0,i.jsx)(n.li,{children:"Cache where it makes sense"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"If you want, I can also add:"}),"\n",(0,i.jsx)(n.p,{children:"\ud83d\udd25 More real\u2011world mini\u2011projects (chat app, dashboards, metrics)\n\ud83d\udcca Operator cheat sheet tables\n\ud83e\udde9 RxJS + NgRx patterns\n\ud83d\udee1\ufe0f Error\u2011handling playbook"}),"\n",(0,i.jsx)(n.p,{children:"Just tell me! \ud83d\ude80"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h1,{id:"-building-a-standalone-rxjs-library-angular21ready",children:["\ud83d\udce6 Building a ",(0,i.jsx)(n.strong,{children:"Standalone RxJS Library"})," (Angular\xa021\u2011Ready)"]}),"\n",(0,i.jsxs)(n.p,{children:["You can ship your own ",(0,i.jsx)(n.strong,{children:"reusable RxJS utilities/operators/services"})," that work in Angular \u2014 or even in plain TypeScript projects."]}),"\n",(0,i.jsxs)(n.p,{children:["There are ",(0,i.jsx)(n.strong,{children:"two great approaches"}),":"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-option1--pure-typescript-rxjs-library-no-angular-runtime-needed",children:"\u2705 Option\xa01 \u2014 Pure TypeScript RxJS Library (No Angular Runtime Needed)"}),"\n",(0,i.jsx)(n.p,{children:"This gives you a lightweight npm package that works everywhere."}),"\n",(0,i.jsx)(n.h3,{id:"1\ufe0f\u20e3-create-a-project",children:"1\ufe0f\u20e3 Create a project"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir rxjs-utils && cd rxjs-utils\nnpm init -y\nnpm i rxjs typescript tslib\nnpm i -D ts-node ts-jest jest @types/jest\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"2\ufe0f\u20e3-add-tsconfigjson",children:["2\ufe0f\u20e3 Add ",(0,i.jsx)(n.code,{children:"tsconfig.json"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "target": "ES2022",\n    "module": "ES2022",\n    "declaration": true,\n    "outDir": "dist",\n    "moduleResolution": "bundler",\n    "esModuleInterop": true,\n    "skipLibCheck": true,\n    "strict": true\n  },\n  "include": ["src/**/*"]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"3\ufe0f\u20e3-add-your-rxjs-utilities",children:"3\ufe0f\u20e3 Add your RxJS utilities"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"src/\n \u2514\u2500\u2500 index.ts\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Observable, defer, timer, map } from 'rxjs';\n\n// Example: cache an observable for N ms\nexport function cacheFor<T>(source: () => Observable<T>, ms = 5_000) {\n  let last$: Observable<T> | null = null;\n  let expires = 0;\n\n  return defer(() => {\n    const now = Date.now();\n    if (!last$ || now > expires) {\n      expires = now + ms;\n      last$ = source();\n    }\n    return last$;\n  });\n}\n\n// Example: create a ticking clock signal\nexport const clock$ = (intervalMs = 1000) =>\n  timer(0, intervalMs).pipe(map(() => new Date()));\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4\ufe0f\u20e3-build",children:"4\ufe0f\u20e3 Build"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx tsc\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Your package is now in ",(0,i.jsx)(n.code,{children:"dist/"})," \u2014 publish with:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npm publish --access public\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["\ud83c\udfaf Works in ",(0,i.jsx)(n.strong,{children:"Angular, Node, React, Vue, Svelte, etc."})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-option2--angularcli-library-ships-typings--ng-tooling",children:"\u2705 Option\xa02 \u2014 Angular\xa0CLI Library (ships typings + ng tooling)"}),"\n",(0,i.jsx)(n.p,{children:"Great when you want Angular\u2011friendly defaults (e.g., secondary entrypoints, builders, schematics later)."}),"\n",(0,i.jsx)(n.h3,{id:"1\ufe0f\u20e3-create-a-workspace-without-an-app",children:"1\ufe0f\u20e3 Create a workspace without an app"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ng new rxjs-workspace --create-application=false --strict\ncd rxjs-workspace\n"})}),"\n",(0,i.jsx)(n.h3,{id:"2\ufe0f\u20e3-generate-a-library",children:"2\ufe0f\u20e3 Generate a library"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ng generate library rxjs-utils\n"})}),"\n",(0,i.jsx)(n.p,{children:"This creates:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"projects/rxjs-utils/\n  src/public-api.ts\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3\ufe0f\u20e3-add-rxjs-helpers",children:"3\ufe0f\u20e3 Add RxJS helpers"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// projects/rxjs-utils/src/public-api.ts\nexport * from './lib/cache-for';\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// projects/rxjs-utils/src/lib/cache-for.ts\nimport { Observable, defer } from 'rxjs';\n\nexport function cacheFor<T>(source: () => Observable<T>, ms = 5000) {\n  let last$: Observable<T> | null = null;\n  let expires = 0;\n\n  return defer(() => {\n    const now = Date.now();\n    if (!last$ || now > expires) {\n      expires = now + ms;\n      last$ = source();\n    }\n    return last$;\n  });\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"4\ufe0f\u20e3-build-the-library",children:"4\ufe0f\u20e3 Build the library"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"ng build rxjs-utils\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Artifacts land in ",(0,i.jsx)(n.code,{children:"dist/rxjs-utils/"})," \u2192 publish with npm."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"\u26a1 Tree\u2011shakeable & AOT\u2011safe out of the box."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-testing-marble-style",children:"\ud83e\uddea Testing (Marble Style)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { TestScheduler } from 'rxjs/testing';\n\nconst scheduler = new TestScheduler((a, b) => expect(a).toEqual(b));\n\nscheduler.run(({ cold, expectObservable }) => {\n  const src$ = cold('a-b-c|');\n  expectObservable(src$).toBe('a-b-c|');\n});\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-suggested-utilities-to-ship",children:"\ud83d\udee0\ufe0f Suggested Utilities to Ship"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cacheFor"})," \u2014 memoize async streams"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"dedupeInFlight"})," \u2014 ignore duplicate concurrent requests"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"retryBackoff"})," \u2014 exponential retry helper"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"toSignal$"})," \u2014 bridge to Angular signals"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"paginate$"})," \u2014 cursor\u2011based stream pagination"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"persist$"})," \u2014 localStorage sync"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>t,x:()=>a});var r=s(6540);const i={},l=r.createContext(i);function t(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);