"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[1255],{5539(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Typescript/Union-Intersection-Narrowing","title":"Union, Intersection & Narrowing","description":"TypeScript features for composing types and safely narrowing them at runtime","source":"@site/docs/Typescript/Union, Intersection & Narrowing.md","sourceDirName":"Typescript","slug":"/Typescript/Union-Intersection-Narrowing","permalink":"/docs/Typescript/Union-Intersection-Narrowing","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Typescript/Union, Intersection & Narrowing.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Union, Intersection & Narrowing","id":"Union-Intersection-Narrowing","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Objects & Functions","permalink":"/docs/Typescript/objects-functions"},"next":{"title":"Interfaces & Type Aliases","permalink":"/docs/Typescript/Interfaces_Type_Aliases"}}');var i=s(4848),t=s(8453);const o={title:"Union, Intersection & Narrowing",id:"Union-Intersection-Narrowing",sidebar_position:5},a="Union, Intersection & Narrowing",l={},c=[{value:"Union Types",id:"union-types",level:2},{value:"Intersection Types",id:"intersection-types",level:2},{value:"Literal Types",id:"literal-types",level:2},{value:"Type Guards",id:"type-guards",level:2},{value:"typeof / instanceof",id:"typeof--instanceof",level:2},{value:"User-defined Type Guards",id:"user-defined-type-guards",level:2},{value:"Discriminated Unions",id:"discriminated-unions",level:2},{value:"Control-flow Narrowing",id:"control-flow-narrowing",level:2},{value:"Notes",id:"notes",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"union-intersection--narrowing",children:"Union, Intersection & Narrowing"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"TypeScript features for composing types and safely narrowing them at runtime"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"union-types",children:"Union Types"}),"\n",(0,i.jsx)(n.p,{children:"Types that allow a value to be one of several possible types."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"let value: string | number;                 // union type\n\nvalue = 'text';                             // string\nvalue = 10;                                 // number\n\nfunction print(id: string | number) {\n  console.log(id);\n}\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"intersection-types",children:"Intersection Types"}),"\n",(0,i.jsx)(n.p,{children:"Types that combine multiple types into one that includes all members."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type A = { id: number };\ntype B = { name: string };\n\ntype C = A & B;                             // intersection\n\nconst value: C = {\n  id: 1,\n  name: 'Dev'\n};\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"literal-types",children:"Literal Types"}),"\n",(0,i.jsx)(n.p,{children:"Types that restrict values to exact string, number, or boolean literals."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"let direction: 'up' | 'down';               // string literals\n\ndirection = 'up';\n// direction = 'left';                      // \u274c not allowed\n\nfunction setRole(role: 'admin' | 'user') {}\nsetRole('admin');\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"type-guards",children:"Type Guards"}),"\n",(0,i.jsx)(n.p,{children:"Runtime checks that narrow a union type to a more specific type."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function log(value: string | number) {\n  if (typeof value === 'string') {\n    value.toUpperCase();                    // string\n  } else {\n    value.toFixed(2);                       // number\n  }\n}\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"typeof--instanceof",children:"typeof / instanceof"}),"\n",(0,i.jsx)(n.p,{children:"Built-in JavaScript operators used for type narrowing."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// typeof\nfunction format(value: string | number) {\n  if (typeof value === 'number') {\n    return value.toFixed(2);\n  }\n  return value.toUpperCase();\n}\n\n// instanceof\nclass User {\n  name = 'Dev';\n}\n\nfunction handle(value: User | Date) {\n  if (value instanceof User) {\n    value.name;\n  } else {\n    value.getTime();\n  }\n}\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"user-defined-type-guards",children:"User-defined Type Guards"}),"\n",(0,i.jsx)(n.p,{children:"Custom functions that narrow types using a type predicate."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type Admin = { role: 'admin'; permissions: string[] };\ntype User = { role: 'user' };\n\ntype Person = Admin | User;\n\nfunction isAdmin(value: Person): value is Admin {\n  return value.role === 'admin';\n}\n\nfunction handle(person: Person) {\n  if (isAdmin(person)) {\n    person.permissions;                     // Admin\n  }\n}\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"discriminated-unions",children:"Discriminated Unions"}),"\n",(0,i.jsx)(n.p,{children:"Union types that share a common literal property used for narrowing."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type Square = { kind: 'square'; size: number };\ntype Circle = { kind: 'circle'; radius: number };\n\ntype Shape = Square | Circle;\n\nfunction area(shape: Shape) {\n  switch (shape.kind) {\n    case 'square':\n      return shape.size * shape.size;\n    case 'circle':\n      return Math.PI * shape.radius ** 2;\n  }\n}\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"control-flow-narrowing",children:"Control-flow Narrowing"}),"\n",(0,i.jsx)(n.p,{children:"Automatic type narrowing based on control-flow analysis."}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:"Examples"}),(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function process(value: string | null) {\n  if (!value) {\n    return;                                 // value is null here\n  }\n\n  value.toUpperCase();                     // value is string\n}\n\nfunction example(x: string | number) {\n  if (typeof x === 'string') {\n    return x.length;\n  }\n\n  return x.toFixed(2);\n}\n"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Unions describe alternatives, intersections describe combinations"}),"\n",(0,i.jsx)(n.li,{children:"Literal types enable strict value constraints"}),"\n",(0,i.jsx)(n.li,{children:"Narrowing is applied automatically through control flow"}),"\n",(0,i.jsx)(n.li,{children:"Discriminated unions scale well for complex domain models"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>o,x:()=>a});var r=s(6540);const i={},t=r.createContext(i);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);