"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[3703],{7957(s,n,e){e.r(n),e.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>f,frontMatter:()=>i,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"Node/fs","title":"fs Module","description":"File system APIs \u2014 sync + async + streams, core module","source":"@site/docs/Node/fs.md","sourceDirName":"Node","slug":"/Node/fs","permalink":"/docs/Node/fs","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Node/fs.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"events Module","permalink":"/docs/Node/event"},"next":{"title":"http / https Modules","permalink":"/docs/Node/http"}}');var a=e(4848),r=e(8453);const i={},c="fs Module",o={},l=[{value:"Import (ESM)",id:"import-esm",level:2},{value:"File Reading",id:"file-reading",level:2},{value:"File Writing",id:"file-writing",level:2},{value:"File Info / Metadata",id:"file-info--metadata",level:2},{value:"Paths &amp; Links",id:"paths--links",level:2},{value:"Directories",id:"directories",level:2},{value:"File Manipulation",id:"file-manipulation",level:2},{value:"File Descriptors",id:"file-descriptors",level:2},{value:"Watching",id:"watching",level:2},{value:"Constants",id:"constants",level:2},{value:"Notes",id:"notes",level:2}];function d(s){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...s.components},{Details:e}=n;return e||function(s,n){throw new Error("Expected "+(n?"component":"object")+" `"+s+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsxs)(n.h1,{id:"fs-module",children:[(0,a.jsx)(n.code,{children:"fs"})," Module"]})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["File system APIs \u2014 ",(0,a.jsx)(n.strong,{children:"sync + async + streams"}),", core module"]}),"\n"]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"import-esm",children:"Import (ESM)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"import fs from 'node:fs';\n"})}),"\n",(0,a.jsxs)(e,{children:[(0,a.jsx)("summary",{children:"Examples"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// import fs from 'node:fs'\n"})})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"file-reading",children:"File Reading"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.readFile(path, opts?, cb)        // (string|URL, object|string?, (err, data)=>void) \u2192 void\nfs.readFileSync(path, opts?)        // (string|URL, object|string?) \u2192 Buffer|string\nfs.createReadStream(path, opts?)    // (string|URL, object?) \u2192 ReadStream\n"})}),"\n",(0,a.jsxs)(e,{children:[(0,a.jsx)("summary",{children:"Examples"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.readFile('a.txt', 'utf8', (err, data) => {});          // path, encoding, callback\nfs.readFileSync('a.txt', { encoding: 'utf8' });          // path, options\nfs.createReadStream('a.txt', { highWaterMark: 64 });     // path, stream options\n"})})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"file-writing",children:"File Writing"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.writeFile(path, data, opts?, cb)  // (string|URL, any, object|string?, fn) \u2192 void\nfs.writeFileSync(path, data, opts?)  // (string|URL, any, object|string?) \u2192 void\nfs.appendFile(path, data, opts?, cb) // (string|URL, any, object|string?, fn) \u2192 void\nfs.appendFileSync(path, data, opts?) // (string|URL, any, object|string?) \u2192 void\nfs.createWriteStream(path, opts?)    // (string|URL, object?) \u2192 WriteStream\n"})}),"\n",(0,a.jsxs)(e,{children:[(0,a.jsx)("summary",{children:"Examples"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.writeFile('a.txt', 'hello', 'utf8', () => {});         // path, data, encoding, cb\nfs.writeFileSync('a.txt', 'hello', { flag: 'w' });       // path, data, options\nfs.appendFile('a.txt', '!', () => {});                   // path, data, cb\nfs.appendFileSync('a.txt', '!', 'utf8');                 // path, data, encoding\nfs.createWriteStream('a.txt', { flags: 'a' });           // path, stream options\n"})})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"file-info--metadata",children:"File Info / Metadata"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.stat(path, cb)                    // (string|URL, (err, Stats)=>void) \u2192 void\nfs.statSync(path)                    // (string|URL) \u2192 Stats\nfs.lstat(path, cb)                   // (string|URL, (err, Stats)=>void) \u2192 void\nfs.lstatSync(path)                   // (string|URL) \u2192 Stats\nfs.access(path, mode?, cb)           // (string|URL, number?, fn) \u2192 void\nfs.accessSync(path, mode?)           // (string|URL, number?) \u2192 void\n"})}),"\n",(0,a.jsxs)(e,{children:[(0,a.jsx)("summary",{children:"Examples"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.stat('a.txt', (err, s) => s.isFile());                 // path, cb\nfs.statSync('a.txt').size;                               // path\nfs.lstatSync('link.txt').isSymbolicLink();               // path\nfs.access('a.txt', fs.constants.R_OK, () => {});         // path, mode, cb\nfs.accessSync('a.txt', fs.constants.W_OK);               // path, mode\n"})})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"paths--links",children:"Paths & Links"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.realpath(path, opts?, cb)         // (string|URL, object?, fn) \u2192 void\nfs.realpathSync(path, opts?)         // (string|URL, object?) \u2192 string\nfs.readlink(path, opts?, cb)         // (string|URL, object?, fn) \u2192 void\nfs.readlinkSync(path, opts?)         // (string|URL, object?) \u2192 string\nfs.symlink(target, path, type?, cb)  // (string, string, string?, fn) \u2192 void\nfs.symlinkSync(target, path, type?)  // (string, string, string?) \u2192 void\n"})}),"\n",(0,a.jsxs)(e,{children:[(0,a.jsx)("summary",{children:"Examples"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.realpath('link.txt', 'utf8', () => {});               // path, encoding, cb\nfs.realpathSync('link.txt');                            // path\nfs.readlinkSync('link.txt', 'utf8');                    // path, encoding\nfs.symlink('a.txt', 'link.txt', 'file', () => {});      // target, path, type, cb\nfs.symlinkSync('a.txt', 'link2.txt');                   // target, path\n"})})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"directories",children:"Directories"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.mkdir(path, opts?, cb)             // (string|URL, object?, fn) \u2192 void\nfs.mkdirSync(path, opts?)             // (string|URL, object?) \u2192 void\nfs.readdir(path, opts?, cb)           // (string|URL, object?, fn) \u2192 void\nfs.readdirSync(path, opts?)           // (string|URL, object?) \u2192 string[]\nfs.rm(path, opts?, cb)                // (string|URL, object?, fn) \u2192 void\nfs.rmSync(path, opts?)                // (string|URL, object?) \u2192 void\n"})}),"\n",(0,a.jsxs)(e,{children:[(0,a.jsx)("summary",{children:"Examples"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.mkdir('dir', { recursive: true }, () => {});          // path, options, cb\nfs.mkdirSync('dir2');                                   // path\nfs.readdir('.', { withFileTypes: true }, () => {});     // path, options, cb\nfs.readdirSync('.');                                    // path\nfs.rm('dir', { recursive: true }, () => {});            // path, options, cb\nfs.rmSync('dir2');                                      // path\n"})})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"file-manipulation",children:"File Manipulation"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.rename(oldPath, newPath, cb)       // (string|URL, string|URL, fn) \u2192 void\nfs.renameSync(oldPath, newPath)       // (string|URL, string|URL) \u2192 void\nfs.copyFile(src, dest, mode?, cb)     // (string|URL, string|URL, number?, fn) \u2192 void\nfs.copyFileSync(src, dest, mode?)     // (string|URL, string|URL, number?) \u2192 void\nfs.truncate(path, len?, cb)           // (string|URL, number?, fn) \u2192 void\nfs.truncateSync(path, len?)           // (string|URL, number?) \u2192 void\n"})}),"\n",(0,a.jsxs)(e,{children:[(0,a.jsx)("summary",{children:"Examples"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.rename('a.txt', 'b.txt', () => {});                   // oldPath, newPath, cb\nfs.renameSync('b.txt', 'c.txt');                         // oldPath, newPath\nfs.copyFile('c.txt', 'd.txt', () => {});                 // src, dest, cb\nfs.copyFileSync('d.txt', 'e.txt');                       // src, dest\nfs.truncate('e.txt', 10, () => {});                      // path, length, cb\nfs.truncateSync('e.txt', 5);                             // path, length\n"})})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"file-descriptors",children:"File Descriptors"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.open(path, flags, mode?, cb)       // (string|URL, string, number?, fn) \u2192 void\nfs.openSync(path, flags, mode?)       // (string|URL, string, number?) \u2192 number\nfs.close(fd, cb)                      // (number, fn) \u2192 void\nfs.closeSync(fd)                      // (number) \u2192 void\n"})}),"\n",(0,a.jsxs)(e,{children:[(0,a.jsx)("summary",{children:"Examples"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.open('a.txt', 'r', (err, fd) => {});                  // path, flags, cb\nconst fd = fs.openSync('a.txt', 'r');                    // path, flags\nfs.close(fd, () => {});                                  // fd, cb\nfs.closeSync(fd);                                        // fd\n"})})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"watching",children:"Watching"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.watch(path, opts?, listener?)      // (string|URL, object?, fn?) \u2192 FSWatcher\nfs.watchFile(path, opts?, listener)   // (string|URL, object?, fn) \u2192 void\nfs.unwatchFile(path, listener?)       // (string|URL, fn?) \u2192 void\n"})}),"\n",(0,a.jsxs)(e,{children:[(0,a.jsx)("summary",{children:"Examples"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.watch('a.txt', { persistent: true }, (e, f) => {});  // path, options, listener\nfs.watchFile('a.txt', { interval: 500 }, () => {});     // path, options, listener\nfs.unwatchFile('a.txt');                                // path\n"})})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"constants",children:"Constants"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// Access permissions (fs.access)\nfs.constants.F_OK          // file exists\nfs.constants.R_OK          // readable\nfs.constants.W_OK          // writable\nfs.constants.X_OK          // executable\n\n// Open flags (fs.open)\nfs.constants.O_RDONLY      // read only\nfs.constants.O_WRONLY      // write only\nfs.constants.O_RDWR        // read & write\nfs.constants.O_CREAT       // create if not exists\nfs.constants.O_EXCL        // exclusive create\nfs.constants.O_NOCTTY      // no controlling terminal\nfs.constants.O_TRUNC       // truncate file\nfs.constants.O_APPEND      // append on write\nfs.constants.O_DIRECTORY   // fail if not directory\nfs.constants.O_NOATIME     // do not update atime\nfs.constants.O_NOFOLLOW    // do not follow symlinks\nfs.constants.O_SYNC        // synchronous writes\nfs.constants.O_DSYNC       // data-only sync\nfs.constants.O_DIRECT      // direct I/O (platform dependent)\nfs.constants.O_NONBLOCK    // non-blocking mode\n\n// Copy flags (fs.copyFile)\nfs.constants.COPYFILE_EXCL           // fail if dest exists\nfs.constants.COPYFILE_FICLONE        // copy-on-write reflink\nfs.constants.COPYFILE_FICLONE_FORCE  // force reflink\n\n// File type constants (Stats.mode)\nfs.constants.S_IFMT        // bitmask for file type\nfs.constants.S_IFREG       // regular file\nfs.constants.S_IFDIR       // directory\nfs.constants.S_IFCHR       // character device\nfs.constants.S_IFBLK       // block device\nfs.constants.S_IFIFO       // FIFO / pipe\nfs.constants.S_IFLNK       // symbolic link\nfs.constants.S_IFSOCK      // socket\n\n// File mode bits (POSIX permissions)\nfs.constants.S_IRWXU       // owner: read/write/execute\nfs.constants.S_IRUSR       // owner: read\nfs.constants.S_IWUSR       // owner: write\nfs.constants.S_IXUSR       // owner: execute\nfs.constants.S_IRWXG       // group: read/write/execute\nfs.constants.S_IRGRP       // group: read\nfs.constants.S_IWGRP       // group: write\nfs.constants.S_IXGRP       // group: execute\nfs.constants.S_IRWXO       // others: read/write/execute\nfs.constants.S_IROTH       // others: read\nfs.constants.S_IWOTH       // others: write\nfs.constants.S_IXOTH       // others: execute\n"})}),"\n",(0,a.jsxs)(e,{children:[(0,a.jsx)("summary",{children:"Examples"}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"fs.accessSync('a.txt', fs.constants.R_OK);                // check read permission\nfs.openSync('a.txt', fs.constants.O_RDONLY);              // open read-only\nfs.copyFileSync('a.txt', 'b.txt', fs.constants.COPYFILE_EXCL);\nconst type = fs.statSync('a.txt').mode & fs.constants.S_IFMT;\n"})})]}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Includes ",(0,a.jsx)(n.strong,{children:"all callback + sync APIs"})," (streams included)"]}),"\n",(0,a.jsxs)(n.li,{children:["Promise-based APIs live in ",(0,a.jsx)(n.code,{children:"node:fs/promises"})]}),"\n",(0,a.jsxs)(n.li,{children:["Most methods accept ",(0,a.jsx)(n.code,{children:"string | Buffer | URL"})," paths"]}),"\n"]})]})}function f(s={}){const{wrapper:n}={...(0,r.R)(),...s.components};return n?(0,a.jsx)(n,{...s,children:(0,a.jsx)(d,{...s})}):d(s)}},8453(s,n,e){e.d(n,{R:()=>i,x:()=>c});var t=e(6540);const a={},r=t.createContext(a);function i(s){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof s?s(n):{...n,...s}},[n,s])}function c(s){let n;return n=s.disableParentContext?"function"==typeof s.components?s.components(a):s.components||a:i(s.components),t.createElement(r.Provider,{value:n},s.children)}}}]);