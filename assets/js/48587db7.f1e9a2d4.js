"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[6368],{8453(e,n,r){r.d(n,{R:()=>a,x:()=>c});var i=r(6540);const t={},s=i.createContext(t);function a(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(s.Provider,{value:n},e.children)}},8989(e,n,r){r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"Angular/programmatic-rendering","title":"Programmatic Rendering","description":"How to create, insert, and destroy views and components imperatively","source":"@site/docs/Angular/programmatic-rendering.md","sourceDirName":"Angular","slug":"/Angular/programmatic-rendering","permalink":"/docs/Angular/programmatic-rendering","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Angular/programmatic-rendering.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Pipes","permalink":"/docs/Angular/pipe"},"next":{"title":"Service Workers & PWA","permalink":"/docs/Angular/pwa"}}');var t=r(4848),s=r(8453);const a={},c="Programmatic Rendering",o={},l=[{value:"What is Programmatic Rendering",id:"what-is-programmatic-rendering",level:2},{value:"Core Building Blocks",id:"core-building-blocks",level:2},{value:"Rendering a Template (<code>TemplateRef</code>)",id:"rendering-a-template-templateref",level:2},{value:"Clearing and Managing Views",id:"clearing-and-managing-views",level:2},{value:"Programmatically Creating Components",id:"programmatically-creating-components",level:2},{value:"Accessing the Created Component",id:"accessing-the-created-component",level:2},{value:"Inserting at Specific Positions",id:"inserting-at-specific-positions",level:2},{value:"Attaching Views Outside Containers",id:"attaching-views-outside-containers",level:2},{value:"When Programmatic Rendering Runs",id:"when-programmatic-rendering-runs",level:2},{value:"When to Use Programmatic Rendering",id:"when-to-use-programmatic-rendering",level:2},{value:"Deprecated Pattern: <code>ComponentFactoryResolver</code>",id:"deprecated-pattern-componentfactoryresolver",level:2},{value:"Mental Model to Remember",id:"mental-model-to-remember",level:2}];function d(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"programmatic-rendering",children:"Programmatic Rendering"})}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"How to create, insert, and destroy views and components imperatively"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"what-is-programmatic-rendering",children:"What is Programmatic Rendering"}),"\n",(0,t.jsxs)(n.p,{children:["Programmatic rendering means ",(0,t.jsx)(n.strong,{children:"creating and controlling views or components using code"}),", not templates."]}),"\n",(0,t.jsx)(n.p,{children:"Angular exposes APIs to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"create embedded views from templates"}),"\n",(0,t.jsx)(n.li,{children:"create component instances dynamically"}),"\n",(0,t.jsx)(n.li,{children:"attach and detach views manually"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"core-building-blocks",children:"Core Building Blocks"}),"\n",(0,t.jsx)(n.p,{children:"Programmatic rendering is built on three core primitives:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ViewContainerRef"})," \u2192 insertion point"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"TemplateRef"})," \u2192 blueprint for embedded views"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ComponentRef"})," \u2192 handle to a created component"]}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"rendering-a-template-templateref",children:["Rendering a Template (",(0,t.jsx)(n.code,{children:"TemplateRef"}),")"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"TemplateRef"})," represents an ",(0,t.jsx)(n.code,{children:"<ng-template>"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"It can be instantiated multiple times as embedded views."}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Example"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"@Component({\n  selector: 'app-template-render',\n  standalone: true,\n  template: `\n    <ng-template #tpl let-name=\"name\">\n      Hello {{ name }}\n    </ng-template>\n  `\n})\nexport class TemplateRenderComponent {\n  vc = inject(ViewContainerRef);\n  tpl = viewChild<TemplateRef<any>>('tpl');\n\n  render() {\n    this.vc.createEmbeddedView(this.tpl()!, {\n      name: 'Angular' // context object\n    });\n  }\n}\n"})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"clearing-and-managing-views",children:"Clearing and Managing Views"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"ViewContainerRef"})," manages a ",(0,t.jsx)(n.strong,{children:"list of views"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"It allows insertion, removal, and destruction."}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Example"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"clear() {\n  this.vc.clear();        // remove all views\n}\n\nremoveFirst() {\n  this.vc.remove(0);     // remove by index\n}\n"})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"programmatically-creating-components",children:"Programmatically Creating Components"}),"\n",(0,t.jsxs)(n.p,{children:["Components can be instantiated without selectors using ",(0,t.jsx)(n.code,{children:"createComponent()"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Angular resolves dependencies automatically."}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Example"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"@Component({\n  selector: 'app-host',\n  standalone: true,\n  template: ''\n})\nexport class HostComponent {\n  vc = inject(ViewContainerRef);\n\n  create() {\n    const ref = this.vc.createComponent(DynamicComponent);\n\n    ref.instance.title = 'Hello'; // input\n    ref.changeDetectorRef.detectChanges();\n  }\n}\n"})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"accessing-the-created-component",children:"Accessing the Created Component"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"ComponentRef"})," provides control over the component instance."]}),"\n",(0,t.jsx)(n.p,{children:"It exposes lifecycle, injector, and change detection."}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Example"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const ref = this.vc.createComponent(DynamicComponent);\n\nref.instance.count = 1;              // component instance\nref.location.nativeElement.focus();  // host element\nref.destroy();                        // destroy component\n"})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"inserting-at-specific-positions",children:"Inserting at Specific Positions"}),"\n",(0,t.jsx)(n.p,{children:"Views and components can be inserted at a specific index."}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Example"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"this.vc.createComponent(DynamicComponent, {\n  index: 0 // number\n});\n"})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"attaching-views-outside-containers",children:"Attaching Views Outside Containers"}),"\n",(0,t.jsx)(n.p,{children:"Views can be created and attached manually to the application."}),"\n",(0,t.jsx)(n.p,{children:"Used for overlays, modals, and portals."}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Example"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const view = this.tpl().createEmbeddedView({});\nappRef.attachView(view);\ndocument.body.append(...view.rootNodes);\n"})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"when-programmatic-rendering-runs",children:"When Programmatic Rendering Runs"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Components are created immediately"}),"\n",(0,t.jsx)(n.li,{children:"Change detection runs on insertion"}),"\n",(0,t.jsx)(n.li,{children:"Destruction happens when removed or manually destroyed"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"when-to-use-programmatic-rendering",children:"When to Use Programmatic Rendering"}),"\n",(0,t.jsx)(n.p,{children:"Use it for:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"dynamic layouts"}),"\n",(0,t.jsx)(n.li,{children:"modals and overlays"}),"\n",(0,t.jsx)(n.li,{children:"plugin-style architectures"}),"\n",(0,t.jsx)(n.li,{children:"CMS-driven UIs"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Avoid it for:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"static layouts"}),"\n",(0,t.jsx)(n.li,{children:"simple conditional rendering"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.h2,{id:"deprecated-pattern-componentfactoryresolver",children:["Deprecated Pattern: ",(0,t.jsx)(n.code,{children:"ComponentFactoryResolver"})]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"\u26a0\ufe0f Legacy API. Do not use in Angular 19+"}),"\n"]}),"\n",(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:"Example"}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"const factory = resolver.resolveComponentFactory(MyComponent);\nvc.createComponent(factory);\n"})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"mental-model-to-remember",children:"Mental Model to Remember"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"TemplateRef"})," \u2192 blueprint"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ViewContainerRef"})," \u2192 insertion point"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ComponentRef"})," \u2192 live instance"]}),"\n",(0,t.jsxs)(n.li,{children:["Templates render ",(0,t.jsx)(n.strong,{children:"views"})]}),"\n",(0,t.jsxs)(n.li,{children:["Components render ",(0,t.jsx)(n.strong,{children:"behavior + view"})]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);