"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[1882],{3030(e,n,r){r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>f,toc:()=>a});const f=JSON.parse('{"id":"Node/buffer","title":"buffer Module","description":"Binary data handling \u2014 allocation, encoding, decoding","source":"@site/docs/Node/buffer.md","sourceDirName":"Node","slug":"/Node/buffer","permalink":"/better-docs/docs/Node/buffer","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Node/buffer.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Node.js","permalink":"/better-docs/docs/Node/"},"next":{"title":"child_process Module","permalink":"/better-docs/docs/Node/childprocess"}}');var u=r(4848),t=r(8453);const s={},o="buffer Module",l={},a=[{value:"Import (ESM)",id:"import-esm",level:2},{value:"Buffer Creation",id:"buffer-creation",level:2},{value:"Buffer Properties",id:"buffer-properties",level:2},{value:"Reading from Buffer",id:"reading-from-buffer",level:2},{value:"Writing to Buffer",id:"writing-to-buffer",level:2},{value:"Buffer Utilities",id:"buffer-utilities",level:2},{value:"JSON / Encoding",id:"json--encoding",level:2},{value:"Notes",id:"notes",level:2}];function i(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(n.header,{children:(0,u.jsxs)(n.h1,{id:"buffer-module",children:[(0,u.jsx)(n.code,{children:"buffer"})," Module"]})}),"\n",(0,u.jsxs)(n.blockquote,{children:["\n",(0,u.jsx)(n.p,{children:"Binary data handling \u2014 allocation, encoding, decoding"}),"\n"]}),"\n",(0,u.jsx)(n.hr,{}),"\n",(0,u.jsx)(n.h2,{id:"import-esm",children:"Import (ESM)"}),"\n",(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"import { Buffer } from 'node:buffer';\n"})}),"\n",(0,u.jsxs)(r,{children:[(0,u.jsx)("summary",{children:"Examples"}),(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"import { Buffer } from 'node:buffer';\n"})})]}),"\n",(0,u.jsx)(n.hr,{}),"\n",(0,u.jsx)(n.h2,{id:"buffer-creation",children:"Buffer Creation"}),"\n",(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"Buffer.alloc(size, fill?, encoding?)        // (number, string|Buffer|number?, string?) \u2192 Buffer\nBuffer.allocUnsafe(size)                    // (number) \u2192 Buffer\nBuffer.from(value, encodingOrOffset?, len?)// (string|Array|Buffer|ArrayBuffer, string|number?, number?) \u2192 Buffer\n"})}),"\n",(0,u.jsxs)(r,{children:[(0,u.jsx)("summary",{children:"Examples"}),(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"Buffer.alloc(10, 'a', 'utf8');                 // size, fill, encoding\nBuffer.allocUnsafe(10);                        // size\nBuffer.from('hello', 'utf8');                  // string, encoding\nBuffer.from([1, 2, 3]);                        // array\nBuffer.from(new ArrayBuffer(8), 0, 4);         // arrayBuffer, byteOffset, length\n"})})]}),"\n",(0,u.jsx)(n.hr,{}),"\n",(0,u.jsx)(n.h2,{id:"buffer-properties",children:"Buffer Properties"}),"\n",(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"buf.length                                   // number of bytes\nBuffer.byteLength(str, encoding?)            // (string, string?) \u2192 number\nBuffer.isBuffer(obj)                         // (any) \u2192 boolean\nBuffer.isEncoding(enc)                       // (string) \u2192 boolean\n"})}),"\n",(0,u.jsxs)(r,{children:[(0,u.jsx)("summary",{children:"Examples"}),(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"const buf = Buffer.from('hi', 'utf8');\nbuf.length;                                   // bytes\nBuffer.byteLength('hi', 'utf8');              // string, encoding\nBuffer.isBuffer(buf);                         // object\nBuffer.isEncoding('utf8');                    // encoding\n"})})]}),"\n",(0,u.jsx)(n.hr,{}),"\n",(0,u.jsx)(n.h2,{id:"reading-from-buffer",children:"Reading from Buffer"}),"\n",(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"buf.toString(encoding?, start?, end?)         // (string?, number?, number?) \u2192 string\nbuf.readUInt8(offset)                         // (number) \u2192 number\nbuf.readInt8(offset)                          // (number) \u2192 number\nbuf.readUInt16LE(offset)                      // (number) \u2192 number\nbuf.readUInt16BE(offset)                      // (number) \u2192 number\nbuf.readUInt32LE(offset)                      // (number) \u2192 number\nbuf.readUInt32BE(offset)                      // (number) \u2192 number\nbuf.readFloatLE(offset)                       // (number) \u2192 number\nbuf.readFloatBE(offset)                       // (number) \u2192 number\nbuf.readDoubleLE(offset)                      // (number) \u2192 number\nbuf.readDoubleBE(offset)                      // (number) \u2192 number\n"})}),"\n",(0,u.jsxs)(r,{children:[(0,u.jsx)("summary",{children:"Examples"}),(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"const buf = Buffer.from([0x01, 0x02, 0x03, 0x04]);\nbuf.toString('hex', 0, 2);                     // encoding, start, end\nbuf.readUInt8(0);                              // offset\nbuf.readInt8(1);                               // offset\nbuf.readUInt16LE(0);                           // offset\nbuf.readUInt16BE(0);                           // offset\nbuf.readUInt32LE(0);                           // offset\nbuf.readUInt32BE(0);                           // offset\nbuf.readFloatLE(0);                            // offset\nbuf.readFloatBE(0);                            // offset\nbuf.readDoubleLE(0);                           // offset\nbuf.readDoubleBE(0);                           // offset\n"})})]}),"\n",(0,u.jsx)(n.hr,{}),"\n",(0,u.jsx)(n.h2,{id:"writing-to-buffer",children:"Writing to Buffer"}),"\n",(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"buf.write(string, offset?, length?, encoding?)// (string, number?, number?, string?) \u2192 number\nbuf.writeUInt8(value, offset)                 // (number, number) \u2192 number\nbuf.writeInt8(value, offset)                  // (number, number) \u2192 number\nbuf.writeUInt16LE(value, offset)              // (number, number) \u2192 number\nbuf.writeUInt16BE(value, offset)              // (number, number) \u2192 number\nbuf.writeUInt32LE(value, offset)              // (number, number) \u2192 number\nbuf.writeUInt32BE(value, offset)              // (number, number) \u2192 number\nbuf.writeFloatLE(value, offset)               // (number, number) \u2192 number\nbuf.writeFloatBE(value, offset)               // (number, number) \u2192 number\nbuf.writeDoubleLE(value, offset)              // (number, number) \u2192 number\nbuf.writeDoubleBE(value, offset)              // (number, number) \u2192 number\n"})}),"\n",(0,u.jsxs)(r,{children:[(0,u.jsx)("summary",{children:"Examples"}),(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"const buf = Buffer.alloc(16);\nbuf.write('hi', 0, 2, 'utf8');                 // string, offset, length, encoding\nbuf.writeUInt8(255, 0);                        // value, offset\nbuf.writeInt8(-1, 1);                          // value, offset\nbuf.writeUInt16LE(500, 2);                     // value, offset\nbuf.writeUInt16BE(500, 4);                     // value, offset\nbuf.writeUInt32LE(1000, 6);                    // value, offset\nbuf.writeUInt32BE(1000, 10);                   // value, offset\nbuf.writeFloatLE(1.5, 0);                      // value, offset\nbuf.writeFloatBE(1.5, 4);                      // value, offset\nbuf.writeDoubleLE(1.234, 0);                   // value, offset\nbuf.writeDoubleBE(1.234, 8);                   // value, offset\n"})})]}),"\n",(0,u.jsx)(n.hr,{}),"\n",(0,u.jsx)(n.h2,{id:"buffer-utilities",children:"Buffer Utilities"}),"\n",(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"buf.slice(start?, end?)                        // (number?, number?) \u2192 Buffer\nbuf.subarray(start?, end?)                    // (number?, number?) \u2192 Buffer\nbuf.copy(target, targetStart?, sourceStart?, sourceEnd?) // (Buffer, number?, number?, number?) \u2192 number\nbuf.equals(otherBuffer)                       // (Buffer) \u2192 boolean\nbuf.compare(otherBuffer, targetStart?, targetEnd?, sourceStart?, sourceEnd?) // (...) \u2192 number\nbuf.fill(value, offset?, end?, encoding?)     // (string|number|Buffer, number?, number?, string?) \u2192 Buffer\n"})}),"\n",(0,u.jsxs)(r,{children:[(0,u.jsx)("summary",{children:"Examples"}),(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"const a = Buffer.from('hello');\nconst b = Buffer.alloc(10);\na.slice(0, 2);                                 // start, end\na.subarray(1, 4);                              // start, end\na.copy(b, 0, 0, 5);                            // target, tStart, sStart, sEnd\na.equals(Buffer.from('hello'));                // buffer\nBuffer.compare(a, Buffer.from('world'));       // buffers\nb.fill('a', 0, 5, 'utf8');                     // value, start, end, encoding\n"})})]}),"\n",(0,u.jsx)(n.hr,{}),"\n",(0,u.jsx)(n.h2,{id:"json--encoding",children:"JSON / Encoding"}),"\n",(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"buf.toJSON()                                  // () \u2192 { type: 'Buffer', data: number[] }\n"})}),"\n",(0,u.jsxs)(r,{children:[(0,u.jsx)("summary",{children:"Examples"}),(0,u.jsx)(n.pre,{children:(0,u.jsx)(n.code,{className:"language-js",children:"const buf = Buffer.from('hi');\nbuf.toJSON();                                  // no args\n"})})]}),"\n",(0,u.jsx)(n.hr,{}),"\n",(0,u.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,u.jsxs)(n.ul,{children:["\n",(0,u.jsxs)(n.li,{children:["Buffers are ",(0,u.jsx)(n.strong,{children:"fixed-size"})," and mutable"]}),"\n",(0,u.jsxs)(n.li,{children:["All offsets are ",(0,u.jsx)(n.strong,{children:"byte-based"})]}),"\n",(0,u.jsxs)(n.li,{children:["Prefer ",(0,u.jsx)(n.code,{children:"Buffer.alloc"})," over ",(0,u.jsx)(n.code,{children:"allocUnsafe"})," unless performance-critical"]}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,u.jsx)(n,{...e,children:(0,u.jsx)(i,{...e})}):i(e)}},8453(e,n,r){r.d(n,{R:()=>s,x:()=>o});var f=r(6540);const u={},t=f.createContext(u);function s(e){const n=f.useContext(t);return f.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(u):e.components||u:s(e.components),f.createElement(t.Provider,{value:n},e.children)}}}]);