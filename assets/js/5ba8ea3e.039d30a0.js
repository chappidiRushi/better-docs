"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[7503],{2817(e,n,t){t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"html/template-and-reuse-mechanisms","title":"Template and Reuse Mechanisms","description":"-----------------","source":"@site/docs/html/Template and Reuse Mechanism.md","sourceDirName":"html","slug":"/html/template-and-reuse-mechanisms","permalink":"/better-docs/docs/html/template-and-reuse-mechanisms","draft":false,"unlisted":false,"editUrl":"https://github.com/chappidirushi/better-docs/tree/main/docs/html/Template and Reuse Mechanism.md","tags":[],"version":"current","sidebarPosition":18,"frontMatter":{"id":"template-and-reuse-mechanisms","title":"Template and Reuse Mechanisms","sidebar_position":18},"sidebar":"tutorialSidebar","previous":{"title":"Scripting and HTML","permalink":"/better-docs/docs/html/scripting-and-html"},"next":{"title":"HTML and Accessibility (A11y)","permalink":"/better-docs/docs/html/html-and-accessibility-a11y"}}');var i=t(4848),l=t(8453);const d={id:"template-and-reuse-mechanisms",title:"Template and Reuse Mechanisms",sidebar_position:18},c=void 0,r={},o=[{value:"Unified Example (Template \u2192 Fragment \u2192 Shadow DOM)",id:"unified-example-template--fragment--shadow-dom",level:2},{value:"<code>&lt;template&gt;</code>",id:"template",level:2},{value:"Document Fragments",id:"document-fragments",level:2},{value:"Cloning and Instantiation",id:"cloning-and-instantiation",level:2},{value:"Shadow DOM Interaction",id:"shadow-dom-interaction",level:2},{value:"<code>&lt;slot&gt;</code> (Composition Point)",id:"slot-composition-point",level:2},{value:"Often-Missed Details (Hardcore)",id:"often-missed-details-hardcore",level:2},{value:"Mental Model (Interview Grade)",id:"mental-model-interview-grade",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",em:"em",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"unified-example-template--fragment--shadow-dom",children:"Unified Example (Template \u2192 Fragment \u2192 Shadow DOM)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"\x3c!-- TEMPLATE --\x3e\n<template id=\"card-tpl\"> \x3c!-- inert: not rendered, not parsed into DOM --\x3e\n  <article class=\"card\"> \x3c!-- no scripts run, no images load --\x3e\n    <h2 class=\"title\"></h2>\n    <p class=\"content\"></p>\n  </article>\n</template>\n\n\x3c!-- HOST ELEMENT --\x3e\n<div id=\"host\"></div>\n\n<script type=\"module\">\n  const tpl = document.getElementById('card-tpl');\n\n  // DOCUMENT FRAGMENT (implicit)\n  const fragment = tpl.content.cloneNode(true); // deep clone: true | shallow: false\n\n  fragment.querySelector('.title').textContent = 'Title';\n  fragment.querySelector('.content').textContent = 'Reusable content';\n\n  // SHADOW DOM ATTACHMENT\n  const host = document.getElementById('host');\n  const shadow = host.attachShadow({ mode: 'open' }); // open | closed\n  shadow.append(fragment);\n<\/script>\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"template",children:(0,i.jsx)(n.code,{children:"<template>"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Holds inert DOM subtree"}),"\n",(0,i.jsx)(n.li,{children:"Not rendered"}),"\n",(0,i.jsx)(n.li,{children:"Not focusable"}),"\n",(0,i.jsxs)(n.li,{children:["Scripts do ",(0,i.jsx)(n.strong,{children:"not execute"})]}),"\n",(0,i.jsxs)(n.li,{children:["Images / media do ",(0,i.jsx)(n.strong,{children:"not load"})]}),"\n",(0,i.jsx)(n.li,{children:"Parsed once, cloned many times"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Special properties:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"template.content"})," \u2192 ",(0,i.jsx)(n.code,{children:"DocumentFragment"})]}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["One-liner: ",(0,i.jsxs)(n.em,{children:[(0,i.jsx)(n.code,{children:"<template>"})," is parsed HTML without side effects."]})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"document-fragments",children:"Document Fragments"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Lightweight container for DOM nodes"}),"\n",(0,i.jsx)(n.li,{children:"Not part of the live DOM tree"}),"\n",(0,i.jsx)(n.li,{children:"Appending fragment moves its children"}),"\n",(0,i.jsx)(n.li,{children:"Minimizes reflow / repaint"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Creation:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"document.createDocumentFragment()"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"template.content"})}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["One-liner: ",(0,i.jsx)(n.em,{children:"Fragments batch DOM mutations efficiently."})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"cloning-and-instantiation",children:"Cloning and Instantiation"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"cloneNode(deep)"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"}),": deep clone (subtree)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"}),": shallow clone (node only)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Cloning semantics:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"IDs duplicated (must be fixed)"}),"\n",(0,i.jsx)(n.li,{children:"Event listeners NOT cloned"}),"\n",(0,i.jsx)(n.li,{children:"State (value, checked) cloned at time of clone"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["One-liner: ",(0,i.jsx)(n.em,{children:"Cloning copies structure, not behavior."})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"shadow-dom-interaction",children:"Shadow DOM Interaction"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Shadow root isolates:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"DOM tree"}),"\n",(0,i.jsx)(n.li,{children:"CSS scope"}),"\n",(0,i.jsx)(n.li,{children:"Event retargeting"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"attachShadow options:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"mode: open | closed"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Interaction rules:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Light DOM slotted via ",(0,i.jsx)(n.code,{children:"<slot>"})]}),"\n",(0,i.jsx)(n.li,{children:"Events bubble but are retargeted"}),"\n",(0,i.jsx)(n.li,{children:"Styles do not leak across boundary"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["One-liner: ",(0,i.jsx)(n.em,{children:"Shadow DOM composes DOM trees without global side effects."})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"slot-composition-point",children:[(0,i.jsx)(n.code,{children:"<slot>"})," (Composition Point)"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<template id="layout">\n  <slot name="header"></slot> \x3c!-- named slot --\x3e\n  <slot></slot> \x3c!-- default slot --\x3e\n</template>\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Fallback content allowed"}),"\n",(0,i.jsxs)(n.li,{children:["Slot assignment via ",(0,i.jsx)(n.code,{children:"slot"})," attribute"]}),"\n",(0,i.jsx)(n.li,{children:"Dynamic reassignment supported"}),"\n"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["One-liner: ",(0,i.jsx)(n.em,{children:"Slots define insertion points between DOM trees."})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"often-missed-details-hardcore",children:"Often-Missed Details (Hardcore)"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"<template>"})," can appear anywhere (including ",(0,i.jsx)(n.code,{children:"<head>"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["Template contents are parsed in the ",(0,i.jsx)(n.strong,{children:"HTML namespace"})]}),"\n",(0,i.jsx)(n.li,{children:"Scripts inside templates execute only after cloning + insertion"}),"\n",(0,i.jsx)(n.li,{children:"Shadow DOM does NOT prevent JS access"}),"\n",(0,i.jsxs)(n.li,{children:["CSS ",(0,i.jsx)(n.code,{children:":host"}),", ",(0,i.jsx)(n.code,{children:":host-context()"})," control styling"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"mental-model-interview-grade",children:"Mental Model (Interview Grade)"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:(0,i.jsxs)(n.strong,{children:["HTML reuse is achieved by combining inert markup (",(0,i.jsx)(n.code,{children:"<template>"}),"), cheap cloning (",(0,i.jsx)(n.code,{children:"DocumentFragment"}),"), and encapsulation (Shadow DOM) \u2014 without string concatenation or runtime parsing."]})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453(e,n,t){t.d(n,{R:()=>d,x:()=>c});var s=t(6540);const i={},l=s.createContext(i);function d(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);