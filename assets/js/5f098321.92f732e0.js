"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[7179],{8453(e,n,i){i.d(n,{R:()=>c,x:()=>d});var s=i(6540);const r={},l=s.createContext(r);function c(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),s.createElement(l.Provider,{value:n},e.children)}},8982(e,n,i){i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"css/css-media-container-queries","title":"Media Queries & Container Queries","description":"-----------------","source":"@site/docs/css/ Media Queries & Container Queries.md","sourceDirName":"css","slug":"/css/css-media-container-queries","permalink":"/better-docs/docs/css/css-media-container-queries","draft":false,"unlisted":false,"editUrl":"https://github.com/chappidirushi/better-docs/tree/main/docs/css/ Media Queries & Container Queries.md","tags":[],"version":"current","sidebarPosition":23,"frontMatter":{"id":"css-media-container-queries","title":"Media Queries & Container Queries","sidebar_position":23},"sidebar":"tutorialSidebar","previous":{"title":"CSS Variables","permalink":"/better-docs/docs/css/css-custom-properties"},"next":{"title":"Accessibility-Relevant CSS","permalink":"/better-docs/docs/css/css-accessibility"}}');var r=i(4848),l=i(8453);const c={id:"css-media-container-queries",title:"Media Queries & Container Queries",sidebar_position:23},d=void 0,t={},a=[{value:"Media Evaluation Model (Foundations)",id:"media-evaluation-model-foundations",level:2},{value:"Media Types &amp; Features",id:"media-types--features",level:2},{value:"Range Syntax (Modern Queries)",id:"range-syntax-modern-queries",level:2},{value:"Interaction &amp; Accessibility Queries",id:"interaction--accessibility-queries",level:2},{value:"Container Queries (Mental Model)",id:"container-queries-mental-model",level:2},{value:"Container Size Queries",id:"container-size-queries",level:2},{value:"Style Queries",id:"style-queries",level:2},{value:"Cascade &amp; Query Interaction",id:"cascade--query-interaction",level:2},{value:"Performance &amp; Re-Evaluation",id:"performance--re-evaluation",level:2},{value:"Common Pitfalls",id:"common-pitfalls",level:2},{value:"Notes",id:"notes",level:2},{value:"Caveats",id:"caveats",level:2}];function o(e){const n={blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"media-evaluation-model-foundations",children:"Media Evaluation Model (Foundations)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Media queries gate ",(0,r.jsx)(n.strong,{children:"entire rules"}),", not individual declarations."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Evaluation characteristics:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Evaluated before cascade"}),"\n",(0,r.jsx)(n.li,{children:"Binary result (match / no-match)"}),"\n",(0,r.jsx)(n.li,{children:"Re-evaluated on environment changes (resize, zoom, preference change)"}),"\n",(0,r.jsx)(n.li,{children:"Do NOT affect specificity"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Media inputs include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Viewport size"}),"\n",(0,r.jsx)(n.li,{children:"Device capabilities"}),"\n",(0,r.jsx)(n.li,{children:"User preferences"}),"\n",(0,r.jsx)(n.li,{children:"Interaction modes"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"/* Blueprint */\n@media <media-condition> {\n  <qualified-rules>\n}\n"})}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@media (min-width: 768px) {\n  .layout {\n    grid-template-columns: 1fr 3fr;\n  }\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"media-types--features",children:"Media Types & Features"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Media queries operate over ",(0,r.jsx)(n.strong,{children:"media features"}),", not devices."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Common feature categories:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Size: ",(0,r.jsx)(n.code,{children:"width"}),", ",(0,r.jsx)(n.code,{children:"height"}),", ",(0,r.jsx)(n.code,{children:"aspect-ratio"})]}),"\n",(0,r.jsxs)(n.li,{children:["Resolution: ",(0,r.jsx)(n.code,{children:"resolution"}),", ",(0,r.jsx)(n.code,{children:"device-pixel-ratio"})]}),"\n",(0,r.jsxs)(n.li,{children:["Color: ",(0,r.jsx)(n.code,{children:"color"}),", ",(0,r.jsx)(n.code,{children:"color-gamut"}),", ",(0,r.jsx)(n.code,{children:"dynamic-range"})]}),"\n",(0,r.jsxs)(n.li,{children:["Interaction: ",(0,r.jsx)(n.code,{children:"hover"}),", ",(0,r.jsx)(n.code,{children:"pointer"}),", ",(0,r.jsx)(n.code,{children:"any-hover"})]}),"\n",(0,r.jsxs)(n.li,{children:["Preferences: ",(0,r.jsx)(n.code,{children:"prefers-color-scheme"}),", ",(0,r.jsx)(n.code,{children:"prefers-reduced-motion"})]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@media (hover: hover) and (pointer: fine) {\n  .tooltip { display: block; }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"range-syntax-modern-queries",children:"Range Syntax (Modern Queries)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Range syntax removes redundancy and improves readability."}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"/* Old */\n@media (min-width: 600px) and (max-width: 900px) {}\n\n/* New */\n@media (600px <= width <= 900px) {}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Rules:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Inclusive comparisons"}),"\n",(0,r.jsx)(n.li,{children:"Order-independent"}),"\n",(0,r.jsx)(n.li,{children:"Evaluated mathematically"}),"\n"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@media (width >= 1024px) {\n  .sidebar { display: block; }\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"interaction--accessibility-queries",children:"Interaction & Accessibility Queries"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Queries can reflect ",(0,r.jsx)(n.strong,{children:"user intent and accessibility preferences"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Key queries:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"prefers-reduced-motion"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"prefers-contrast"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"forced-colors"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"inverted-colors"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@media (prefers-reduced-motion: reduce) {\n  * {\n    animation: none !important;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Notes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Should not be overridden casually"}),"\n",(0,r.jsx)(n.li,{children:"Often paired with progressive enhancement"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"container-queries-mental-model",children:"Container Queries (Mental Model)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Container queries respond to ",(0,r.jsx)(n.strong,{children:"component size"}),", not viewport size."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Key differences from media queries:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Scoped to a container"}),"\n",(0,r.jsx)(n.li,{children:"Enable true component encapsulation"}),"\n",(0,r.jsx)(n.li,{children:"Evaluated per container instance"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Two steps:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Declare a container"}),"\n",(0,r.jsx)(n.li,{children:"Query its dimensions or style"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"/* Blueprint */\n.container {\n  container-type: inline-size;\n}\n\n@container (width > 400px) {\n  .card { flex-direction: row; }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"container-size-queries",children:"Container Size Queries"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Size queries inspect the ",(0,r.jsx)(n.strong,{children:"content box"})," of the container."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Container types:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"size"})," \u2192 inline + block"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"inline-size"})," \u2192 inline axis only"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Rules:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Only direct descendants participate"}),"\n",(0,r.jsx)(n.li,{children:"Containers do NOT query themselves"}),"\n",(0,r.jsx)(n.li,{children:"Writing modes affect axes"}),"\n"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".card-wrapper {\n  container-type: inline-size;\n}\n\n@container (min-width: 30rem) {\n  .card {\n    display: grid;\n    grid-template-columns: auto 1fr;\n  }\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"style-queries",children:"Style Queries"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Style queries allow conditions based on ",(0,r.jsx)(n.strong,{children:"computed styles"}),", not size."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@container style(--variant: compact) {\n  .item {\n    padding: 4px;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Rules:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Query computed custom properties"}),"\n",(0,r.jsx)(n.li,{children:"Enables state-based styling without JS"}),"\n",(0,r.jsx)(n.li,{children:"Must avoid circular dependencies"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"cascade--query-interaction",children:"Cascade & Query Interaction"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Queries decide ",(0,r.jsx)(n.strong,{children:"which rules exist"}),", cascade decides ",(0,r.jsx)(n.strong,{children:"which wins"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Key points:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Queries do not affect specificity"}),"\n",(0,r.jsx)(n.li,{children:"Query-matched rules fully enter cascade"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"@layer"})," still applies inside queries"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"@layer components {\n  @media (width > 800px) {\n    .card { padding: 2rem; }\n  }\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"performance--re-evaluation",children:"Performance & Re-Evaluation"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Query changes trigger ",(0,r.jsx)(n.strong,{children:"style recalculation"}),", not layout by default."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Triggers:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Resize"}),"\n",(0,r.jsx)(n.li,{children:"Zoom"}),"\n",(0,r.jsx)(n.li,{children:"Preference change"}),"\n",(0,r.jsx)(n.li,{children:"Container resize (container queries)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Performance notes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Container queries are more expensive than media queries"}),"\n",(0,r.jsx)(n.li,{children:"Prefer fewer containers"}),"\n",(0,r.jsx)(n.li,{children:"Avoid deep container nesting"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"common-pitfalls",children:"Common Pitfalls"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Forgetting to set ",(0,r.jsx)(n.code,{children:"container-type"})]}),"\n",(0,r.jsx)(n.li,{children:"Expecting container queries to affect ancestors"}),"\n",(0,r.jsx)(n.li,{children:"Using media queries for component logic"}),"\n",(0,r.jsx)(n.li,{children:"Over-querying instead of using flexible layouts"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Media queries are environment-scoped"}),"\n",(0,r.jsx)(n.li,{children:"Container queries are component-scoped"}),"\n",(0,r.jsx)(n.li,{children:"Queries gate rules, not declarations"}),"\n",(0,r.jsx)(n.li,{children:"Cascade still determines final styles"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"caveats",children:"Caveats"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Container queries require explicit opt-in"}),"\n",(0,r.jsx)(n.li,{children:"Style queries can create cycles"}),"\n",(0,r.jsx)(n.li,{children:"Debugging requires browser tooling"}),"\n",(0,r.jsx)(n.li,{children:"Not all media features are equally supported"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}}}]);