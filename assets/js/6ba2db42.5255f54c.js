"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[1210],{3810(e,n,t){t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"React/hooks","title":"Hooks","description":"----------------","source":"@site/docs/React/Hooks.md","sourceDirName":"React","slug":"/React/hooks","permalink":"/better-docs/docs/React/hooks","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/React/Hooks.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"hooks","title":"Hooks","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Under The Hood","permalink":"/better-docs/docs/React/under-the-hood"},"next":{"title":"Advanced State Management","permalink":"/better-docs/docs/React/advanced-state-management"}}');var r=t(4848),o=t(8453);const d={id:"hooks",title:"Hooks",sidebar_position:5},c=void 0,i={},l=[{value:"Class Component Lifecycle Methods (Execution Order)",id:"class-component-lifecycle-methods-execution-order",level:2},{value:"Function Component Hooks",id:"function-component-hooks",level:2},{value:"Cleanup / Unmounting",id:"cleanup--unmounting",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Notes &amp; Caveats",id:"notes--caveats",level:2}];function a(e){const n={code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"class-component-lifecycle-methods-execution-order",children:"Class Component Lifecycle Methods (Execution Order)"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Phase"}),(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Mounting"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"constructor(props)"})}),(0,r.jsx)(n.td,{children:"Initialize state, bind methods"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"static getDerivedStateFromProps(props, state)"})}),(0,r.jsx)(n.td,{children:"Update state based on props before rendering"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"render()"})}),(0,r.jsx)(n.td,{children:"Render JSX to DOM"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"componentDidMount()"})}),(0,r.jsx)(n.td,{children:"Runs after component is mounted; API calls, timers, subscriptions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Updating"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"static getDerivedStateFromProps(props, state)"})}),(0,r.jsx)(n.td,{children:"Update state from props before rendering"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"shouldComponentUpdate(nextProps, nextState)"})}),(0,r.jsx)(n.td,{children:"Decide if re-render is needed (optimization)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"render()"})}),(0,r.jsx)(n.td,{children:"Render updated JSX"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"getSnapshotBeforeUpdate(prevProps, prevState)"})}),(0,r.jsx)(n.td,{children:"Capture snapshot of DOM before changes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"componentDidUpdate(prevProps, prevState, snapshot)"})}),(0,r.jsx)(n.td,{children:"Perform side effects after update"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Unmounting"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"componentWillUnmount()"})}),(0,r.jsx)(n.td,{children:"Cleanup timers, listeners, subscriptions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Error Handling"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"static getDerivedStateFromError(error)"})}),(0,r.jsx)(n.td,{children:"Update state to display fallback UI"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"componentDidCatch(error, info)"})}),(0,r.jsx)(n.td,{children:"Log error details or perform side effects"})]})]})]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Example Class Component"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"import React from 'react';\n\nclass LifecycleDemo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { count: 0, hasError: false };\n  }\n\n  static getDerivedStateFromProps(props, state) { return null; }\n\n  componentDidMount() { console.log('Mounted'); }\n\n  shouldComponentUpdate(nextProps, nextState) { return true; }\n\n  getSnapshotBeforeUpdate(prevProps, prevState) { return null; }\n\n  componentDidUpdate(prevProps, prevState, snapshot) { console.log('Updated'); }\n\n  componentWillUnmount() { console.log('Unmounted'); }\n\n  static getDerivedStateFromError(error) { return { hasError: true }; }\n\n  componentDidCatch(error, info) { console.log('Error:', error, info); }\n\n  render() {\n    if (this.state.hasError) return <h1>Something went wrong</h1>;\n    return <p>Count: {this.state.count}</p>;\n  }\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"function-component-hooks",children:"Function Component Hooks"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Hook"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useState()"})}),(0,r.jsx)(n.td,{children:"Local state"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useEffect(() => { ... }, [])"})}),(0,r.jsx)(n.td,{children:"Mounting; runs once after mount"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useEffect(() => { ... }, [deps])"})}),(0,r.jsx)(n.td,{children:"Updating; runs when dependencies change"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useLayoutEffect(() => { ... }, [deps])"})}),(0,r.jsx)(n.td,{children:"Synchronous effect after DOM updates but before painting"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useReducer()"})}),(0,r.jsx)(n.td,{children:"Manage complex state logic"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useRef()"})}),(0,r.jsx)(n.td,{children:"Persistent values and DOM refs"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useMemo()"})}),(0,r.jsx)(n.td,{children:"Memoize expensive calculations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useCallback()"})}),(0,r.jsx)(n.td,{children:"Memoize functions"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useContext()"})}),(0,r.jsx)(n.td,{children:"Access context values"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useImperativeHandle()"})}),(0,r.jsxs)(n.td,{children:["Customize refs with ",(0,r.jsx)(n.code,{children:"forwardRef"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useDebugValue()"})}),(0,r.jsx)(n.td,{children:"Show debug info in DevTools"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"cleanup--unmounting",children:"Cleanup / Unmounting"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Return a cleanup function from ",(0,r.jsx)(n.code,{children:"useEffect"})," or ",(0,r.jsx)(n.code,{children:"useLayoutEffect"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["No built-in hook; use class-based ",(0,r.jsx)(n.code,{children:"ErrorBoundary"})]}),"\n"]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"Example Function Component with Hooks"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"import { useState, useEffect, useLayoutEffect, useRef, useMemo, useCallback, useContext } from 'react';\nimport MyContext from './MyContext';\n\nfunction HookDemo({ multiplier }) {\n  const [count, setCount] = useState(0);\n  const ref = useRef();\n  const context = useContext(MyContext);\n\n  const doubled = useMemo(() => count * multiplier, [count, multiplier]);\n  const increment = useCallback(() => setCount(c => c + 1), []);\n\n  useEffect(() => {\n    console.log('Effect after mount or update');\n    return () => console.log('Cleanup on unmount or before next update');\n  }, [count]);\n\n  useLayoutEffect(() => {\n    console.log('Layout effect');\n  });\n\n  return (\n    <div ref={ref}>\n      <p>Count: {count}</p>\n      <p>Doubled: {doubled}</p>\n      <button onClick={increment}>Increment</button>\n    </div>\n  );\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"notes--caveats",children:"Notes & Caveats"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Class components: use explicit lifecycle methods; function components: hooks."}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"useEffect"})," covers mount, update, and unmount depending on dependencies."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"useLayoutEffect"})," is synchronous, before browser paint."]}),"\n",(0,r.jsx)(n.li,{children:"Error boundaries are still class-based."}),"\n",(0,r.jsx)(n.li,{children:"Always include dependencies in hooks to avoid unintended behavior."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,t){t.d(n,{R:()=>d,x:()=>c});var s=t(6540);const r={},o=s.createContext(r);function d(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);