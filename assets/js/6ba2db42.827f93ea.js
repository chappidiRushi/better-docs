"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[1210],{3810(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"React/hooks","title":"Hooks","description":"----------------","source":"@site/docs/React/Hooks.md","sourceDirName":"React","slug":"/React/hooks","permalink":"/better-docs/docs/React/hooks","draft":false,"unlisted":false,"editUrl":"https://github.com/chappidirushi/better-docs/tree/main/docs/React/Hooks.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"hooks","title":"Hooks","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"Component","permalink":"/better-docs/docs/React/component"},"next":{"title":"Advanced State Management","permalink":"/better-docs/docs/React/advanced-state-management"}}');var r=s(4848),o=s(8453);const i={id:"hooks",title:"Hooks",sidebar_position:5},c=void 0,l={},d=[{value:"Mental Model",id:"mental-model",level:2},{value:"Class Components",id:"class-components",level:3},{value:"Function Components (Hooks)",id:"function-components-hooks",level:3},{value:"1. Mounting Phase",id:"1-mounting-phase",level:2},{value:"2. Updating Phase",id:"2-updating-phase",level:2},{value:"3. Unmounting Phase",id:"3-unmounting-phase",level:2},{value:"4. Error Handling (Classes Only)",id:"4-error-handling-classes-only",level:2},{value:"1. Core Hooks (Most Common)",id:"1-core-hooks-most-common",level:2},{value:"<code>useState</code>",id:"usestate",level:3},{value:"<code>useEffect</code>",id:"useeffect",level:3},{value:"<code>useLayoutEffect</code>",id:"uselayouteffect",level:3},{value:"<code>useRef</code>",id:"useref",level:3},{value:"<code>useReducer</code>",id:"usereducer",level:3},{value:"2. Performance &amp; Composition Hooks",id:"2-performance--composition-hooks",level:2},{value:"<code>useMemo</code>",id:"usememo",level:3},{value:"<code>useCallback</code>",id:"usecallback",level:3},{value:"<code>useContext</code>",id:"usecontext",level:3},{value:"3. Concurrent &amp; Modern Hooks",id:"3-concurrent--modern-hooks",level:2},{value:"<code>useTransition</code>",id:"usetransition",level:3},{value:"<code>useDeferredValue</code>",id:"usedeferredvalue",level:3},{value:"<code>useOptimistic</code> (React 19+)",id:"useoptimistic-react-19",level:3},{value:"<code>useActionState</code> (React 19+)",id:"useactionstate-react-19",level:3},{value:"4. Advanced / Rare Hooks",id:"4-advanced--rare-hooks",level:2},{value:"<code>useImperativeHandle</code>",id:"useimperativehandle",level:3},{value:"<code>useSyncExternalStore</code>",id:"usesyncexternalstore",level:3},{value:"<code>useInsertionEffect</code>",id:"useinsertioneffect",level:3},{value:"<code>useId</code>",id:"useid",level:3},{value:"<code>useDebugValue</code>",id:"usedebugvalue",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"mental-model",children:"Mental Model"}),"\n",(0,r.jsx)(n.h3,{id:"class-components",children:"Class Components"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Explicit ",(0,r.jsx)(n.strong,{children:"lifecycle phases"})," (mount, update, unmount)"]}),"\n",(0,r.jsx)(n.li,{children:"Logic split across multiple methods"}),"\n",(0,r.jsx)(n.li,{children:"Harder to reuse lifecycle logic"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"function-components-hooks",children:"Function Components (Hooks)"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No lifecycle methods"}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.strong,{children:"hooks"})," to express intent"]}),"\n",(0,r.jsx)(n.li,{children:"Logic is grouped by concern, not phase"}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Key rule:"})," Rendering is ",(0,r.jsx)(n.strong,{children:"pure"}),". Side effects run ",(0,r.jsx)(n.strong,{children:"after commit"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"part-1-class-components-lifecycle-based",children:"Part 1: Class Components (Lifecycle-Based)"}),"\n",(0,r.jsx)(n.h2,{id:"1-mounting-phase",children:"1. Mounting Phase"}),"\n",(0,r.jsx)(n.p,{children:"Executed once when the component is created."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"constructor"})}),(0,r.jsx)(n.td,{children:"Initialize state, bind methods"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"getDerivedStateFromProps"})}),(0,r.jsx)(n.td,{children:"Sync state with props (rare)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"render"})}),(0,r.jsx)(n.td,{children:"Describe UI"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"componentDidMount"})}),(0,r.jsx)(n.td,{children:"Run side effects"})]})]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example: Mounting"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"class MountDemo extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { count: 0 };\n  }\n\n  componentDidMount() {\n    console.log('Mounted');\n  }\n\n  render() {\n    return <p>Count: {this.state.count}</p>;\n  }\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"2-updating-phase",children:"2. Updating Phase"}),"\n",(0,r.jsxs)(n.p,{children:["Triggered by ",(0,r.jsx)(n.strong,{children:"state"})," or ",(0,r.jsx)(n.strong,{children:"props"})," changes."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"getDerivedStateFromProps"})}),(0,r.jsx)(n.td,{children:"Sync state with props"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"shouldComponentUpdate"})}),(0,r.jsx)(n.td,{children:"Skip re-render (perf)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"render"})}),(0,r.jsx)(n.td,{children:"Describe updated UI"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"getSnapshotBeforeUpdate"})}),(0,r.jsx)(n.td,{children:"Read DOM before change"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"componentDidUpdate"})}),(0,r.jsx)(n.td,{children:"Run side effects"})]})]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example: Updating"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"class UpdateDemo extends React.Component {\n  componentDidUpdate(prevProps) {\n    if (prevProps.value !== this.props.value) {\n      console.log('Value changed');\n    }\n  }\n\n  render() {\n    return <p>Value: {this.props.value}</p>;\n  }\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"3-unmounting-phase",children:"3. Unmounting Phase"}),"\n",(0,r.jsx)(n.p,{children:"Executed once before the component is removed."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"componentWillUnmount"})}),(0,r.jsx)(n.td,{children:"Cleanup side effects"})]})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example: Cleanup"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"class UnmountDemo extends React.Component {\n  componentDidMount() {\n    this.id = setInterval(() => console.log('tick'), 1000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.id);\n  }\n\n  render() {\n    return <p>Running...</p>;\n  }\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"4-error-handling-classes-only",children:"4. Error Handling (Classes Only)"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Method"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"getDerivedStateFromError"})}),(0,r.jsx)(n.td,{children:"Update UI"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"componentDidCatch"})}),(0,r.jsx)(n.td,{children:"Log/report error"})]})]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example: Error Boundary"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"class ErrorBoundary extends React.Component {\n  state = { hasError: false };\n\n  static getDerivedStateFromError() {\n    return { hasError: true };\n  }\n\n  componentDidCatch(error, info) {\n    console.error(error, info);\n  }\n\n  render() {\n    if (this.state.hasError) return <h1>Something went wrong</h1>;\n    return this.props.children;\n  }\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"part-2-function-components-hook-based",children:"Part 2: Function Components (Hook-Based)"}),"\n",(0,r.jsxs)(n.p,{children:["Hooks let you express ",(0,r.jsx)(n.strong,{children:"what you want to do"})," (state, effects, memoization) instead of ",(0,r.jsx)(n.strong,{children:"when"})," in the lifecycle."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"1-core-hooks-most-common",children:"1. Core Hooks (Most Common)"}),"\n",(0,r.jsx)(n.h3,{id:"usestate",children:(0,r.jsx)(n.code,{children:"useState"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Manage local, isolated component state."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key behaviors:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"State updates are async & batched"}),"\n",(0,r.jsx)(n.li,{children:"Re-render happens on state change"}),"\n",(0,r.jsx)(n.li,{children:"Initial state runs only on first render"}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example: Basic state"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const [count, setCount] = useState(0);\n\n<button onClick={() => setCount(c => c + 1)}>\n  Increment\n</button>\n"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Caveats"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Never mutate state directly"}),"\n",(0,r.jsx)(n.li,{children:"Use functional updates when based on previous state"}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"useeffect",children:(0,r.jsx)(n.code,{children:"useEffect"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"useEffect"})," is a React Hook that lets you synchronize a component with an external system."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Replaces:"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"componentDidMount"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"componentDidUpdate"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"componentWillUnmount"})}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example: Data fetching + cleanup"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function Users() {\n  const [users, setUsers] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    // Create an AbortController so we can cancel the request\n    const controller = new AbortController();\n\n    async function fetchUsers() {\n      try {\n        const res = await fetch('/api/users', {\n          signal: controller.signal,\n        });\n\n        if (!res.ok) throw new Error('Request failed');\n\n        const data = await res.json();\n        setUsers(data); // Safe: updates state after fetch resolves\n      } catch (err) {\n        // Ignore abort errors, handle real ones\n        if (err.name !== 'AbortError') {\n          setError(err.message);\n        }\n      }\n    }\n\n    fetchUsers();\n\n    // Cleanup runs on unmount OR before next effect\n    return () => {\n      controller.abort(); // Prevents setting state after unmount\n    };\n  }, []); // Empty deps \u2192 run once on mount\n\n  if (error) return <p>Error: {error}</p>;\n  return users.map(u => <div key={u.id}>{u.name}</div>);\n}\n"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Bad Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function BadExample({ userId }) {\n  const [user, setUser] = useState(null);\n\n  // \u274c Missing dependency \u2192 stale userId\n  useEffect(() => {\n    fetch(`/api/users/${userId}`)\n      .then(r => r.json())\n      .then(setUser);\n  }, []); // userId should be in deps\n\n  // \u274c Derived state in effect\n  const [fullName, setFullName] = useState('');\n  useEffect(() => {\n    if (user) {\n      // This should be derived during render instead\n      setFullName(user.first + ' ' + user.last);\n    }\n  }, [user]);\n\n  // \u274c Effect doing synchronous work\n  useEffect(() => {\n    console.log('This does not need useEffect');\n  });\n\n  return <div>{fullName}</div>;\n}\n"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Caveats"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Effects run after paint"}),"\n",(0,r.jsx)(n.li,{children:"Missing dependencies cause stale values"}),"\n",(0,r.jsx)(n.li,{children:"Avoid putting derived state in effects"}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"uselayouteffect",children:(0,r.jsx)(n.code,{children:"useLayoutEffect"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"useLayoutEffect"})," is a React Hook that lets you run effects ",(0,r.jsx)(n.strong,{children:"synchronously after DOM mutations but before the browser paints"}),"."]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example: Measuring layout safely"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function ExpandablePanel({ children }) {\n  const ref = useRef(null);\n  const [height, setHeight] = useState(0);\n\n  useLayoutEffect(() => {\n    // Runs after DOM is updated but before paint\n    // Safe for reading layout and synchronously updating state\n    if (ref.current) {\n      const rect = ref.current.getBoundingClientRect();\n      setHeight(rect.height);\n    }\n  }, [children]); // Re-measure when content changes\n\n  return (\n    <div>\n      <div ref={ref}>{children}</div>\n      {/* Height is consistent with DOM before user sees it */}\n      <p>Measured height: {height}px</p>\n    </div>\n  );\n}\n"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Caveats"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Blocks paint (can hurt performance)"}),"\n",(0,r.jsx)(n.li,{children:"State updates here delay rendering"}),"\n",(0,r.jsx)(n.li,{children:"Use only for DOM measurements or imperative layout work"}),"\n",(0,r.jsxs)(n.li,{children:["Prefer ",(0,r.jsx)(n.code,{children:"useEffect"})," for async or non-visual side effects"]}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"useref",children:(0,r.jsx)(n.code,{children:"useRef"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Persist values across renders ",(0,r.jsx)(n.strong,{children:"without causing re-renders"}),"."]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example: DOM access + mutable value"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'function SearchInput() {\n  const inputRef = useRef(null);      // Access DOM element\n  const renderCount = useRef(0);      // Persist mutable value across renders\n\n  // Count how many times the component rendered\n  renderCount.current += 1;\n\n  useEffect(() => {\n    // Safe DOM interaction after mount\n    inputRef.current.focus();\n  }, []);\n\n  function selectText() {\n    // Imperative DOM action without re-rendering\n    inputRef.current.select();\n  }\n\n  return (\n    <div>\n      <input ref={inputRef} placeholder="Search..." />\n      <button onClick={selectText}>Select text</button>\n\n      {/* Updating ref does NOT cause re-render */}\n      <p>Render count: {renderCount.current}</p>\n    </div>\n  );\n}\n'})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Caveats"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Updating ",(0,r.jsx)(n.code,{children:".current"})," does not trigger re-render"]}),"\n",(0,r.jsx)(n.li,{children:"Mutations are not reactive"}),"\n",(0,r.jsx)(n.li,{children:"Avoid using refs to store UI state"}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"usereducer",children:(0,r.jsx)(n.code,{children:"useReducer"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"useReducer"})," is a React Hook that lets you add a reducer to your component."]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example: Real-world form state management"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function counterReducer(state, action) {\n  switch (action.type) {\n    case 'increment':\n      return { count: state.count + 1 };\n    case 'decrement':\n      return { count: state.count - 1 };\n    case 'reset':\n      return { count: 0 };\n    default:\n      return state;\n  }\n}\n\nfunction Counter() {\n  const [state, dispatch] = useReducer(counterReducer, { count: 0 });\n\n  return (\n    <div>\n      <p>Count: {state.count}</p>\n\n      <button onClick={() => dispatch({ type: 'decrement' })}>-</button>\n      <button onClick={() => dispatch({ type: 'increment' })}>+</button>\n      <button onClick={() => dispatch({ type: 'reset' })}>Reset</button>\n    </div>\n  );\n}\n"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"When to use"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Complex state transitions"}),"\n",(0,r.jsx)(n.li,{children:"Multiple related state values"}),"\n",(0,r.jsxs)(n.li,{children:["When state changes depend on ",(0,r.jsx)(n.em,{children:"previous"})," state"]}),"\n",(0,r.jsx)(n.li,{children:"When you want predictable, testable logic"}),"\n"]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"2-performance--composition-hooks",children:"2. Performance & Composition Hooks"}),"\n",(0,r.jsx)(n.h3,{id:"usememo",children:(0,r.jsx)(n.code,{children:"useMemo"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"useMemo"})," is a React Hook that lets you cache the result of a calculation between re-renders."]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function SearchResults({ items, query }) {\n  // Normalize input outside of useMemo (cheap operation)\n  const normalizedQuery = query.trim().toLowerCase();\n\n  // Expensive derived data: filter + sort on a potentially large list\n  const results = useMemo(() => {\n    // This code only runs when `items` or `normalizedQuery` changes\n\n    // 1. Filter items based on search query\n    const filtered = items.filter(item =>\n      item.name.toLowerCase().includes(normalizedQuery)\n    );\n\n    // 2. Sort results (expensive: O(n log n))\n    filtered.sort((a, b) => b.score - a.score);\n\n    return filtered;\n  }, [items, normalizedQuery]);\n\n  return (\n    <ul>\n      {results.map(item => (\n        <li key={item.id}>\n          {item.name} ({item.score})\n        </li>\n      ))}\n    </ul>\n  );\n}\n"})})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Caveat:"})," Not for side effects."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"usecallback",children:(0,r.jsx)(n.code,{children:"useCallback"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," useCallback is a React Hook that lets you cache a function definition between re-renders."]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function Example() {\n  const [open, setOpen] = useState(false);\n  const [count, setCount] = useState(0);\n\n  // Cached callback with no dependencies\n  const handleClick = useCallback(() => {\n    // Functional update avoids stale state\n    setCount(c => c + 1);\n    setOpen(true);\n  }, []);\n\n  // Cached callback that depends on `count`\n  const handleReset = useCallback(() => {\n    if (count > 0) {\n      setCount(0);\n      setOpen(false);\n    }\n  }, [count]);\n\n  return (\n    <div>\n      <button onClick={handleClick}>Open & Increment</button>\n      <button onClick={handleReset}>Reset</button>\n\n      {open && <p>Count: {count}</p>}\n    </div>\n  );\n}\n"})})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Caveat:"})," Useful mainly when passing callbacks to memoized children."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"usecontext",children:(0,r.jsx)(n.code,{children:"useContext"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"useContext"})," is a React Hook that lets you read and subscribe to context from your component."]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Context is created once at module level\nconst ThemeContext = React.createContext('light');\n\nfunction App() {\n  // Provider supplies the current value to all descendants\n  return (\n    <ThemeContext.Provider value=\"dark\">\n      <Toolbar />\n    </ThemeContext.Provider>\n  );\n}\n\nfunction Toolbar() {\n  // No props needed \u2014 context flows automatically\n  return <Button />;\n}\n\nfunction Button() {\n  // Reads the nearest ThemeContext value\n  const theme = useContext(ThemeContext);\n\n  // Component re-renders when context value changes\n  return (\n    <button className={`btn btn-${theme}`}>\n      Current theme: {theme}\n    </button>\n  );\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"3-concurrent--modern-hooks",children:"3. Concurrent & Modern Hooks"}),"\n",(0,r.jsx)(n.h3,{id:"usetransition",children:(0,r.jsx)(n.code,{children:"useTransition"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Mark updates as non-urgent."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const [isPending, startTransition] = useTransition();\n\nstartTransition(() => {\n  setList(filter(items));\n});\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"usedeferredvalue",children:(0,r.jsx)(n.code,{children:"useDeferredValue"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"useDeferredValue"})," is a React Hook that lets you defer updating a part of the UI."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function Search() {\n  const [query, setQuery] = useState('');\n\n  // Deferred value lags behind `query` during fast updates\n  const deferredQuery = useDeferredValue(query);\n\n  // This expensive computation will run less often\n  const results = useMemo(() => {\n    // Simulate heavy filtering logic\n    return largeList.filter(item =>\n      item.name.toLowerCase().includes(deferredQuery.toLowerCase())\n    );\n  }, [deferredQuery]);\n\n  return (\n    <div>\n      {/* Immediate update for typing responsiveness */}\n      <input\n        value={query}\n        onChange={e => setQuery(e.target.value)}\n        placeholder=\"Search\u2026\"\n      />\n\n      {/* UI may briefly show results for an older query */}\n      <ul>\n        {results.map(item => (\n          <li key={item.id}>{item.name}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"useoptimistic-react-19",children:[(0,r.jsx)(n.code,{children:"useOptimistic"})," (React 19+)"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Update UI optimistically before server confirmation."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const [optimistic, setOptimistic] = useOptimistic(data);\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h3,{id:"useactionstate-react-19",children:[(0,r.jsx)(n.code,{children:"useActionState"})," (React 19+)"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Purpose:"})," Manage async server actions."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const [state, action] = useActionState(saveUser, initial);\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"4-advanced--rare-hooks",children:"4. Advanced / Rare Hooks"}),"\n",(0,r.jsx)(n.h3,{id:"useimperativehandle",children:(0,r.jsx)(n.code,{children:"useImperativeHandle"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"useImperativeHandle"})," is a React Hook that lets you customize the handle exposed as a ref."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Child component controls what the parent can access\nconst Input = React.forwardRef(function Input(props, ref) {\n  const inputRef = useRef(null);\n\n  // Expose a controlled, limited API to the parent\n  useImperativeHandle(ref, () => ({\n    focus() {\n      inputRef.current.focus();\n    },\n    clear() {\n      inputRef.current.value = '';\n    },\n  }));\n\n  return <input ref={inputRef} placeholder=\"Type here\" />;\n});\n\nfunction Parent() {\n  const inputRef = useRef(null);\n\n  return (\n    <div>\n      {/* Parent can only call methods explicitly exposed */}\n      <Input ref={inputRef} />\n\n      <button onClick={() => inputRef.current.focus()}>\n        Focus Input\n      </button>\n      <button onClick={() => inputRef.current.clear()}>\n        Clear Input\n      </button>\n    </div>\n  );\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"usesyncexternalstore",children:(0,r.jsx)(n.code,{children:"useSyncExternalStore"})}),"\n",(0,r.jsx)(n.p,{children:"Subscribe safely to external stores."}),"\n",(0,r.jsx)(n.h3,{id:"useinsertioneffect",children:(0,r.jsx)(n.code,{children:"useInsertionEffect"})}),"\n",(0,r.jsx)(n.p,{children:"Inject styles before DOM mutations."}),"\n",(0,r.jsx)(n.h3,{id:"useid",children:(0,r.jsx)(n.code,{children:"useId"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"useId"})," is a React Hook for generating unique IDs that can be passed to accessibility attributes."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'function FormField() {\n  // Generates a stable, unique ID per component instance\n  const id = useId();\n\n  return (\n    <div>\n      {/* Label and input are correctly associated */}\n      <label htmlFor={id}>Email</label>\n      <input id={id} type="email" />\n    </div>\n  );\n}\n\nfunction Form() {\n  // Multiple instances will not collide\n  return (\n    <>\n      <FormField />\n      <FormField />\n    </>\n  );\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"usedebugvalue",children:(0,r.jsx)(n.code,{children:"useDebugValue"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"useDebugValue"})," is a React Hook that lets you display a custom label for your hook in ",(0,r.jsx)(n.strong,{children:"React DevTools"}),"."]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Custom hook\nfunction useOnlineStatus() {\n  const [isOnline, setIsOnline] = React.useState(true);\n\n  // Adds a label visible only in React DevTools\n  useDebugValue(isOnline ? 'Online' : 'Offline');\n\n  // You can still return normal hook values\n  return isOnline;\n}\n\nfunction StatusIndicator() {\n  // When inspecting this component in DevTools,\n  // you'll see: useOnlineStatus: Online / Offline\n  const isOnline = useOnlineStatus();\n\n  return (\n    <p>Status: {isOnline ? 'Online' : 'Offline'}</p>\n  );\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"lifecycle--hook-mapping",children:"Lifecycle \u2194 Hook Mapping"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Class Lifecycle"}),(0,r.jsx)(n.th,{children:"Hook Equivalent"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"componentDidMount"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useEffect(() => {}, [])"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"componentDidUpdate"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useEffect(() => {}, [deps])"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"componentWillUnmount"})}),(0,r.jsxs)(n.td,{children:["Cleanup in ",(0,r.jsx)(n.code,{children:"useEffect"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"shouldComponentUpdate"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"React.memo"}),", ",(0,r.jsx)(n.code,{children:"useMemo"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"getSnapshotBeforeUpdate"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"useLayoutEffect"})})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Hooks express ",(0,r.jsx)(n.strong,{children:"intent"}),", not lifecycle phase"]}),"\n",(0,r.jsxs)(n.li,{children:["Effects run ",(0,r.jsx)(n.strong,{children:"after commit"})]}),"\n",(0,r.jsx)(n.li,{children:"Prefer simple hooks; reach for advanced ones sparingly"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,s){s.d(n,{R:()=>i,x:()=>c});var t=s(6540);const r={},o=t.createContext(r);function i(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);