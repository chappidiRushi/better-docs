"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[6341],{4118(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"css/css-gotchas-failure-modes","title":"CSS Gotchas & Failure Modes","description":"-----------------","source":"@site/docs/css/CSS Gotchas & Failure Modes.md","sourceDirName":"css","slug":"/css/css-gotchas-failure-modes","permalink":"/better-docs/docs/css/css-gotchas-failure-modes","draft":false,"unlisted":false,"editUrl":"https://github.com/chappidirushi/better-docs/tree/main/docs/css/CSS Gotchas & Failure Modes.md","tags":[],"version":"current","sidebarPosition":33,"frontMatter":{"id":"css-gotchas-failure-modes","title":"CSS Gotchas & Failure Modes","sidebar_position":33},"sidebar":"tutorialSidebar","previous":{"title":"Paged Media & Print CSS","permalink":"/better-docs/docs/css/paged-media-print-css"},"next":{"title":"JavaScript","permalink":"/better-docs/docs/javascript/"}}');var r=i(4848),l=i(8453);const t={id:"css-gotchas-failure-modes",title:"CSS Gotchas & Failure Modes",sidebar_position:33},c=void 0,o={},d=[{value:"Percentage Height Traps",id:"percentage-height-traps",level:2},{value:"Auto Margin Behavior",id:"auto-margin-behavior",level:2},{value:"Flex Overflow Bugs",id:"flex-overflow-bugs",level:2},{value:"Grid Min-Content Surprises",id:"grid-min-content-surprises",level:2},{value:"Stacking Context Nightmares",id:"stacking-context-nightmares",level:2},{value:"Debugging Strategy",id:"debugging-strategy",level:2},{value:"Notes",id:"notes",level:2},{value:"Caveats",id:"caveats",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"percentage-height-traps",children:"Percentage Height Traps"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Percentage heights resolve against the ",(0,r.jsx)(n.strong,{children:"definite size of the containing block"}),", not against content."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Core rules:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Percentages require a definite height ancestor"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"height: auto"})," breaks the chain"]}),"\n",(0,r.jsx)(n.li,{children:"Flex/Grid change definiteness rules"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Common failure modes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"height: 100%"})," doing nothing"]}),"\n",(0,r.jsx)(n.li,{children:"Nested percentages collapsing"}),"\n",(0,r.jsx)(n.li,{children:"Scroll containers not sizing as expected"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Blueprint:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"height: auto | <length> | <percentage> | min-content | max-content | fit-content;\n"})}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".parent { height: 100vh; }\n.child  { height: 100%; }  /* works */\n\n.parent { height: auto; }\n.child  { height: 100%; }  /* ignored */\n\n/* Flex exception */\n.flex {\n  display: flex;\n  height: 300px;\n}\n.flex > .item { height: 100%; } /* definite */\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"auto-margin-behavior",children:"Auto Margin Behavior"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"margin: auto"})," participates in ",(0,r.jsx)(n.strong,{children:"free-space distribution"}),", not alignment logic."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Key mechanics:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Absorbs remaining space on the axis"}),"\n",(0,r.jsx)(n.li,{children:"Requires a definite container size"}),"\n",(0,r.jsx)(n.li,{children:"Competes with other auto margins"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Axis-specific behavior:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Block axis: rarely useful"}),"\n",(0,r.jsx)(n.li,{children:"Inline axis: centering"}),"\n",(0,r.jsx)(n.li,{children:"Flex/Grid: alignment primitive"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Blueprint:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"margin: auto | <length> | <percentage>;\n"})}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"/* Horizontal centering */\n.box {\n  width: 200px;\n  margin-inline: auto;\n}\n\n/* Flex push */\n.flex {\n  display: flex;\n}\n.flex .spacer {\n  margin-left: auto; /* pushes following items */\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"flex-overflow-bugs",children:"Flex Overflow Bugs"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Flex items default to ",(0,r.jsx)(n.code,{children:"min-width: auto"}),", which ",(0,r.jsx)(n.strong,{children:"prevents shrinking"})," and causes overflow."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Root cause:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"min-width: auto"})," resolves to content size"]}),"\n",(0,r.jsxs)(n.li,{children:["Overrides ",(0,r.jsx)(n.code,{children:"flex-shrink"})]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Symptoms:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Flex children overflow container"}),"\n",(0,r.jsx)(n.li,{children:"Text refuses to wrap"}),"\n",(0,r.jsx)(n.li,{children:"Scrollbars appear unexpectedly"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Canonical fix:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"flex-item {\n  min-width: 0;\n  min-height: 0;\n}\n"})}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".flex {\n  display: flex;\n}\n.flex > .item {\n  flex: 1;\n  min-width: 0; /* critical */\n}\n\n/* Without min-width:0 \u2192 overflow */\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"grid-min-content-surprises",children:"Grid Min-Content Surprises"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Grid tracks respect ",(0,r.jsx)(n.strong,{children:"min-content contributions"}),", often preventing expected shrinking."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Key rules:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"minmax(auto, 1fr)"})," != ",(0,r.jsx)(n.code,{children:"minmax(0, 1fr)"})]}),"\n",(0,r.jsx)(n.li,{children:"Content can define track minimums"}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"fr"})," units distribute remaining space"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Common surprises:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Grid wider than container"}),"\n",(0,r.jsx)(n.li,{children:"Text forces track expansion"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Blueprint:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"grid-template-columns:\n  <track-size>+\n\n<track-size> =\n  <length> | <percentage> | fr | minmax() | auto | min-content | max-content;\n"})}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n}\n\n/* Fix overflow */\n.grid {\n  grid-template-columns: minmax(0, 1fr) minmax(0, 1fr);\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"stacking-context-nightmares",children:"Stacking Context Nightmares"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Stacking contexts are ",(0,r.jsx)(n.strong,{children:"atomic painting layers"}),". Once created, children cannot escape them."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Context creators (partial):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"position"})," + ",(0,r.jsx)(n.code,{children:"z-index"})," (non-auto)"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"opacity < 1"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"transform"}),", ",(0,r.jsx)(n.code,{children:"filter"}),", ",(0,r.jsx)(n.code,{children:"perspective"})]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"isolation: isolate"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"will-change"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Failure patterns:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"z-index"})," has no effect"]}),"\n",(0,r.jsx)(n.li,{children:"Modals appear under content"}),"\n",(0,r.jsx)(n.li,{children:"Tooltips clipped unexpectedly"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Blueprint:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:"z-index: auto | <integer>;\n"})}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Examples"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-css",children:".parent {\n  transform: translateZ(0); /* creates stacking context */\n}\n\n.child {\n  position: absolute;\n  z-index: 9999; /* trapped */\n}\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"debugging-strategy",children:"Debugging Strategy"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Most CSS bugs are ",(0,r.jsx)(n.strong,{children:"mental model mismatches"}),", not syntax errors."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Rules:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Inspect computed & used values"}),"\n",(0,r.jsx)(n.li,{children:"Identify formatting context"}),"\n",(0,r.jsx)(n.li,{children:"Check stacking context boundaries"}),"\n",(0,r.jsx)(n.li,{children:"Look for implicit minimums"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Most gotchas are spec-compliant"}),"\n",(0,r.jsx)(n.li,{children:"Layout engines optimize for correctness, not intuition"}),"\n",(0,r.jsx)(n.li,{children:"Defaults are conservative"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"caveats",children:"Caveats"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Browsers differ in edge cases"}),"\n",(0,r.jsx)(n.li,{children:"DevTools hide some constraints"}),"\n",(0,r.jsx)(n.li,{children:'Fixes often look "wrong" but are correct'}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,i){i.d(n,{R:()=>t,x:()=>c});var s=i(6540);const r={},l=s.createContext(r);function t(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);