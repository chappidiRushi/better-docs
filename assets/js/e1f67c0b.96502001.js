"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[6885],{8453(e,n,s){s.d(n,{R:()=>d,x:()=>t});var i=s(6540);const r={},l=i.createContext(r);function d(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),i.createElement(l.Provider,{value:n},e.children)}},9179(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"html/html-document-model","title":"HTML Document Model","description":"----------------","source":"@site/docs/html/Doument Model.md","sourceDirName":"html","slug":"/html/html-document-model","permalink":"/better-docs/docs/html/html-document-model","draft":false,"unlisted":false,"editUrl":"https://github.com/chappidirushi/better-docs/tree/main/docs/html/Doument Model.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"html-document-model","title":"HTML Document Model","sidebar_position":5},"sidebar":"tutorialSidebar","previous":{"title":"HTML as a Platform","permalink":"/better-docs/docs/html/html-as-a-platform"},"next":{"title":"Parsing Algorithms","permalink":"/better-docs/docs/html/parsing-algorithms"}}');var r=s(4848),l=s(8453);const d={id:"html-document-model",title:"HTML Document Model",sidebar_position:5},t=void 0,c={},o=[{value:"1. The HTML Document Lifecycle",id:"1-the-html-document-lifecycle",level:2},{value:"2. Document Types (<code>&lt;!DOCTYPE&gt;</code>) and Standards Mode",id:"2-document-types-doctype-and-standards-mode",level:2},{value:"3. Quirks Mode and Almost Standards Mode",id:"3-quirks-mode-and-almost-standards-mode",level:2},{value:"4. Document Tree Construction",id:"4-document-tree-construction",level:2},{value:"5. The DOM vs Source Markup",id:"5-the-dom-vs-source-markup",level:2},{value:"6. Node Types and Tree Relationships",id:"6-node-types-and-tree-relationships",level:2},{value:"Mental Model (Interview One-Liner)",id:"mental-model-interview-one-liner",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"1-the-html-document-lifecycle",children:"1. The HTML Document Lifecycle"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Definition:"})," The ordered phases a document goes through from request to interactive and complete states."]}),"\n",(0,r.jsx)(n.p,{children:"Lifecycle phases:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Navigation & fetch"}),"\n",(0,r.jsx)(n.li,{children:"Parsing (HTML \u2192 DOM)"}),"\n",(0,r.jsx)(n.li,{children:"Subresource discovery (CSS, JS, images)"}),"\n",(0,r.jsx)(n.li,{children:"DOMContentLoaded"}),"\n",(0,r.jsx)(n.li,{children:"Render-ready"}),"\n",(0,r.jsx)(n.li,{children:"Load event"}),"\n",(0,r.jsx)(n.li,{children:"Idle / interactive updates"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Observable states:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"document.readyState"}),": ",(0,r.jsx)(n.code,{children:"loading | interactive | complete"})]}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"<script>\n  document.addEventListener('DOMContentLoaded', () => {\n    // DOM built, subresources may still load\n  });\n\n  window.addEventListener('load', () => {\n    // All subresources loaded\n  });\n<\/script>\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.h2,{id:"2-document-types-doctype-and-standards-mode",children:["2. Document Types (",(0,r.jsx)(n.code,{children:"<!DOCTYPE>"}),") and Standards Mode"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Definition:"})," The doctype selects the browser's parsing and rendering mode."]}),"\n",(0,r.jsx)(n.p,{children:"Modern doctype:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<!DOCTYPE html>"})," \u2192 Standards Mode"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Effects:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Enables full CSS box model"}),"\n",(0,r.jsx)(n.li,{children:"Activates modern layout algorithms"}),"\n",(0,r.jsx)(n.li,{children:"Disables legacy error quirks"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Doctype characteristics:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Case-insensitive"}),"\n",(0,r.jsxs)(n.li,{children:["Must appear before ",(0,r.jsx)(n.code,{children:"<html>"})]}),"\n",(0,r.jsx)(n.li,{children:"Not part of the DOM tree"}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:'<!DOCTYPE html>\n<html lang="en">\n  <head></head>\n  <body></body>\n</html>\n'})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"3-quirks-mode-and-almost-standards-mode",children:"3. Quirks Mode and Almost Standards Mode"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Definition:"})," Legacy compatibility modes triggered by specific doctypes."]}),"\n",(0,r.jsx)(n.p,{children:"Modes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Standards Mode"}),"\n",(0,r.jsx)(n.li,{children:"Almost Standards Mode"}),"\n",(0,r.jsx)(n.li,{children:"Quirks Mode"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Triggers:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Missing doctype \u2192 Quirks"}),"\n",(0,r.jsx)(n.li,{children:"Legacy doctypes \u2192 Quirks / Almost Standards"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Key differences:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Box model behavior"}),"\n",(0,r.jsx)(n.li,{children:"Table layout handling"}),"\n",(0,r.jsx)(n.li,{children:"CSS sizing inconsistencies"}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"\x3c!-- Triggers Quirks Mode --\x3e\n<html>\n  <body>Legacy layout</body>\n</html>\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"4-document-tree-construction",children:"4. Document Tree Construction"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Definition:"})," HTML tokens are incrementally converted into a DOM tree using insertion modes."]}),"\n",(0,r.jsx)(n.p,{children:"Core concepts:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Streaming parser"}),"\n",(0,r.jsxs)(n.li,{children:["Insertion modes (",(0,r.jsx)(n.code,{children:"in body"}),", ",(0,r.jsx)(n.code,{children:"in head"}),", etc.)"]}),"\n",(0,r.jsx)(n.li,{children:"Error recovery rules"}),"\n",(0,r.jsx)(n.li,{children:"Foster parenting (tables)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Properties:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Tree mutates during parsing"}),"\n",(0,r.jsx)(n.li,{children:"Scripts can observe partial DOM"}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"<p><div>A</p>\n\n\x3c!-- Parsed DOM --\x3e\n<p></p>\n<div>A</div>\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"5-the-dom-vs-source-markup",children:"5. The DOM vs Source Markup"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Definition:"})," Source markup is static text; DOM is a live, normalized object graph."]}),"\n",(0,r.jsx)(n.p,{children:"Differences:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"DOM may differ structurally from source"}),"\n",(0,r.jsx)(n.li,{children:"Whitespace normalization"}),"\n",(0,r.jsx)(n.li,{children:"Implicit elements inserted"}),"\n",(0,r.jsx)(n.li,{children:"Attribute defaults applied"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Implication:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"innerHTML"})," \u2260 original source"]}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"\x3c!-- Source --\x3e\n<table>\n  <tr><td>A</td></tr>\n</table>\n\n\x3c!-- DOM auto-inserts <tbody> --\x3e\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"6-node-types-and-tree-relationships",children:"6. Node Types and Tree Relationships"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Definition:"})," DOM is composed of nodes connected via parent/child/sibling relationships."]}),"\n",(0,r.jsx)(n.p,{children:"Primary node types:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Document (9)"}),"\n",(0,r.jsx)(n.li,{children:"Element (1)"}),"\n",(0,r.jsx)(n.li,{children:"Text (3)"}),"\n",(0,r.jsx)(n.li,{children:"Comment (8)"}),"\n",(0,r.jsx)(n.li,{children:"DocumentFragment (11)"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Tree relationships:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"parentNode"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"childNodes"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"firstChild / lastChild"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"previousSibling / nextSibling"})}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Example"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",children:"<div>\x3c!--c--\x3eA</div>\n"})}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const div = document.querySelector('div');\n// div.childNodes:\n// [ Comment, Text ]\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"mental-model-interview-one-liner",children:"Mental Model (Interview One-Liner)"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The HTML document model is a streaming, error-tolerant process that constructs a live DOM tree whose structure may differ from source markup and evolves throughout the page lifecycle."})}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);