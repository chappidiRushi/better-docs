"use strict";(globalThis.webpackChunkbetter_docs=globalThis.webpackChunkbetter_docs||[]).push([[7740],{8453(e,n,s){s.d(n,{R:()=>t,x:()=>l});var i=s(6540);const r={},o=i.createContext(r);function t(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:n},e.children)}},8628(e,n,s){s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"mongo/mongodb-deployment-architectures","title":"Deployment Architectures","description":"-----------------","source":"@site/docs/mongo/Deployment Architecture.md","sourceDirName":"mongo","slug":"/mongo/mongodb-deployment-architectures","permalink":"/better-docs/docs/mongo/mongodb-deployment-architectures","draft":false,"unlisted":false,"editUrl":"https://github.com/chappidirushi/better-docs/tree/main/docs/mongo/Deployment Architecture.md","tags":[],"version":"current","sidebarPosition":19,"frontMatter":{"id":"mongodb-deployment-architectures","title":"Deployment Architectures","sidebar_position":19},"sidebar":"tutorialSidebar","previous":{"title":"Monitoring and Operations","permalink":"/better-docs/docs/mongo/mongodb-monitoring-operations"},"next":{"title":"Drivers and Ecosystem","permalink":"/better-docs/docs/mongo/mongodb-drivers-ecosystem"}}');var r=s(4848),o=s(8453);const t={id:"mongodb-deployment-architectures",title:"Deployment Architectures",sidebar_position:19},l=void 0,c={},d=[{value:"Single Node",id:"single-node",level:2},{value:"Replica Sets",id:"replica-sets",level:2},{value:"Sharded Clusters",id:"sharded-clusters",level:2},{value:"Multi-Region Deployments",id:"multi-region-deployments",level:2},{value:"Kubernetes Deployments",id:"kubernetes-deployments",level:2},{value:"Notes",id:"notes",level:2},{value:"Caveats",id:"caveats",level:2}];function a(e){const n={blockquote:"blockquote",code:"code",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"single-node",children:"Single Node"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Standalone ",(0,r.jsx)(n.code,{children:"mongod"})," without replication or sharding"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Interview points"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"No high availability"}),"\n",(0,r.jsx)(n.li,{children:"No automatic failover"}),"\n",(0,r.jsx)(n.li,{children:"Used for dev, testing, or edge workloads"}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Examples (Node.js)"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Connect to standalone MongoDB\nimport { MongoClient } from 'mongodb';\n\nconst client = new MongoClient('mongodb://localhost:27017');\nawait client.connect();\nconst db = client.db('app');\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"replica-sets",children:"Replica Sets"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Group of mongod instances with primary-secondary replication"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Interview points"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Provides high availability"}),"\n",(0,r.jsx)(n.li,{children:"Automatic failover via elections"}),"\n",(0,r.jsx)(n.li,{children:"Majority write concern ensures durability"}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Examples (Node.js)"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Replica set connection string\nconst uri = 'mongodb://n1,n2,n3/app?replicaSet=rs0';\nconst client = new MongoClient(uri);\nawait client.connect();\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"sharded-clusters",children:"Sharded Clusters"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Horizontally scaled cluster using shard key partitioning"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Interview points"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Requires mongos, config servers, shards"}),"\n",(0,r.jsx)(n.li,{children:"Scales writes and storage"}),"\n",(0,r.jsx)(n.li,{children:"Shard key choice is critical"}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Examples (Node.js)"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Connect via mongos\nconst client = new MongoClient('mongodb://mongos1,mongos2/app');\nawait client.connect();\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"multi-region-deployments",children:"Multi-Region Deployments"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Distributing replica set members or shards across regions"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Interview points"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Improves read latency"}),"\n",(0,r.jsx)(n.li,{children:"Increases write latency"}),"\n",(0,r.jsx)(n.li,{children:"Requires careful write concern and read preference"}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Examples (Node.js)"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Prefer nearest node\nconst client = new MongoClient(uri, {\n  readPreference: 'nearest', // primary | secondary | nearest\n});\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"kubernetes-deployments",children:"Kubernetes Deployments"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Running MongoDB on container orchestration platforms"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Interview points"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"StatefulSets required"}),"\n",(0,r.jsx)(n.li,{children:"PersistentVolumes mandatory"}),"\n",(0,r.jsx)(n.li,{children:"Automation via Operators"}),"\n"]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:"Examples (Node.js)"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// App-side connection remains unchanged\nconst client = new MongoClient('mongodb://mongo-0.mongo-svc:27017');\nawait client.connect();\n"})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Architecture choice impacts consistency, latency, and ops complexity"}),"\n",(0,r.jsx)(n.li,{children:"Prefer replica sets over standalone even in small prod setups"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"caveats",children:"Caveats"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Sharding adds operational overhead"}),"\n",(0,r.jsx)(n.li,{children:"Multi-region writes are expensive"}),"\n",(0,r.jsx)(n.li,{children:"Kubernetes requires deep ops expertise"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);